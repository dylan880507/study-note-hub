
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Net_Core_MVC · Study Note</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Dylan">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Net_Index.html" />
    
    
    <link rel="prev" href="Net_Core_API.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    NetCore
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="ABP.html">
            
                <a href="ABP.html">
            
                    
                    ABP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="AOP.html">
            
                <a href="AOP.html">
            
                    
                    AOP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="c_sharp.html">
            
                <a href="c_sharp.html">
            
                    
                    c_sharp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="EF_Core.html">
            
                <a href="EF_Core.html">
            
                    
                    EF_Core
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="Identify_Server_4.html">
            
                <a href="Identify_Server_4.html">
            
                    
                    Identify_Server_4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="JWT.html">
            
                <a href="JWT.html">
            
                    
                    JWT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="MemoryCache_and_分布式Cache_Redis.html">
            
                <a href="MemoryCache_and_分布式Cache_Redis.html">
            
                    
                    MemoryCacheand分布式Cache_Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="MySQL.html">
            
                <a href="MySQL.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="Net_Core_API.html">
            
                <a href="Net_Core_API.html">
            
                    
                    Net_Core_API
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.10" data-path="Net_Core_MVC.html">
            
                <a href="Net_Core_MVC.html">
            
                    
                    Net_Core_MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="Net_Index.html">
            
                <a href="Net_Index.html">
            
                    
                    Net_Index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="note.html">
            
                <a href="note.html">
            
                    
                    note
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="Polly.html">
            
                <a href="Polly.html">
            
                    
                    Polly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="大神的博客.html">
            
                <a href="大神的博客.html">
            
                    
                    大神的博客
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    os
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../os/centos.html">
            
                <a href="../os/centos.html">
            
                    
                    centos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../os/gitbook.html">
            
                <a href="../os/gitbook.html">
            
                    
                    gitbook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../os/nginx.html">
            
                <a href="../os/nginx.html">
            
                    
                    nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../os/ubuntu.html">
            
                <a href="../os/ubuntu.html">
            
                    
                    ubuntu
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../python/note_command.html">
            
                <a href="../python/note_command.html">
            
                    
                    note_command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../python/note_logic.html">
            
                <a href="../python/note_logic.html">
            
                    
                    note_logic
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    webend
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../webend/@vue_cli.html">
            
                <a href="../webend/@vue_cli.html">
            
                    
                    @vue_cli
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../webend/cdn.html">
            
                <a href="../webend/cdn.html">
            
                    
                    cdn
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../webend/chat_gpt.html">
            
                <a href="../webend/chat_gpt.html">
            
                    
                    chat_gpt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../webend/chrome_plugins.html">
            
                <a href="../webend/chrome_plugins.html">
            
                    
                    chrome_plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../webend/git.html">
            
                <a href="../webend/git.html">
            
                    
                    git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../webend/node&npm.html">
            
                <a href="../webend/node&npm.html">
            
                    
                    node&npm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../webend/note_奇技淫巧.html">
            
                <a href="../webend/note_奇技淫巧.html">
            
                    
                    note_奇技淫巧
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../webend/note_布局和样式.html">
            
                <a href="../webend/note_布局和样式.html">
            
                    
                    note_布局和样式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../webend/note_打包.html">
            
                <a href="../webend/note_打包.html">
            
                    
                    note_打包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../webend/note_逻辑.html">
            
                <a href="../webend/note_逻辑.html">
            
                    
                    note_逻辑
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../webend/package.json.html">
            
                <a href="../webend/package.json.html">
            
                    
                    package.json
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../webend/react.html">
            
                <a href="../webend/react.html">
            
                    
                    react
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../webend/third_party_plugins.html">
            
                <a href="../webend/third_party_plugins.html">
            
                    
                    third_party_plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../webend/typescript.html">
            
                <a href="../webend/typescript.html">
            
                    
                    typescript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="../webend/uni_app.html">
            
                <a href="../webend/uni_app.html">
            
                    
                    uni_app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.16" data-path="../webend/vite.html">
            
                <a href="../webend/vite.html">
            
                    
                    vite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.17" data-path="../webend/vscode.html">
            
                <a href="../webend/vscode.html">
            
                    
                    vscode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.18" data-path="../webend/Vue2X.html">
            
                <a href="../webend/Vue2X.html">
            
                    
                    Vue2X
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.19" data-path="../webend/Vue3X.html">
            
                <a href="../webend/Vue3X.html">
            
                    
                    Vue3X
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.20" data-path="../webend/webpack.html">
            
                <a href="../webend/webpack.html">
            
                    
                    webpack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Net_Core_MVC</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#1net-core&#x4E2D;&#x7684;session&#x4EE5;&#x53CA;httpcontext&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x5C0F;&#x7ED3;"><b></b>1&gt;.net core&#x4E2D;&#x7684;Session&#x4EE5;&#x53CA;HttpContext&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x5C0F;&#x7ED3;</a></li><ul><li><span class="title-icon "></span><a href="#1-1httpswwwjianshucomp0315aa029867"><b></b>1-1&gt;https://www.jianshu.com/p/0315aa029867</a></li><li><span class="title-icon "></span><a href="#1-2&#x82E5;&#x51FA;&#x73B0;error-unprotecting-the-session-cookiethe-payload-was-invalid&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#xFF0C;&#x589E;&#x52A0;servicesadddataprotection&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x6D4F;&#x89C8;&#x5668;&#x3002;"><b></b>1-2&gt;&#x82E5;&#x51FA;&#x73B0;Error unprotecting the session cookie.The payload was invalid&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#xFF0C;&#x589E;&#x52A0;services.AddDataProtection()&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x6D4F;&#x89C8;&#x5668;&#x3002;</a></li><li><span class="title-icon "></span><a href="#1-3&#x82E5;&#x51FA;&#x73B0;&#x8B66;&#x544A;-no-xml-encryptor-configured-key-may-be-persisted-to-storage-in-unencrypted-form&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#x5904;&#x7406;&#x6CA1;&#x5F04;&#x51FA;&#x6765;"><b></b>1-3&gt;&#x82E5;&#x51FA;&#x73B0;&#x8B66;&#x544A; No XML encryptor configured. Key may be persisted to storage in unencrypted form&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#x5904;&#x7406;(&#x6CA1;&#x5F04;&#x51FA;&#x6765;)</a></li></ul><li><span class="title-icon "></span><a href="#2net-core-&#x6CE8;&#x5165;log4net&#x53EF;&#x4EE5;&#x5728;startup&#x6216;&#x8005;programme&#x914D;&#x7F6E;"><b></b>2&gt;net core &#x6CE8;&#x5165;log4net(&#x53EF;&#x4EE5;&#x5728;startup&#x6216;&#x8005;programme&#x914D;&#x7F6E;)</a></li><ul><li><span class="title-icon "></span><a href="#2-1&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x7AD9;&#x70B9;"><b></b>2-1&gt;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x7AD9;&#x70B9;</a></li><li><span class="title-icon "></span><a href="#2-2log4netconfig&#x914D;&#x7F6E;"><b></b>2-2&gt;log4net.config&#x914D;&#x7F6E;</a></li><li><span class="title-icon "></span><a href="#2-3&#x5185;&#x7F6E;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;"><b></b>2-3&gt;&#x5185;&#x7F6E;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;</a></li></ul><li><span class="title-icon "></span><a href="#3net-core-&#x90E8;&#x7F72;-iis"><b></b>3&gt;net core &#x90E8;&#x7F72; IIS</a></li><ul><li><span class="title-icon "></span><a href="#3-1&#x4F7F;&#x7528;vs&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;"><b></b>3-1&gt;&#x4F7F;&#x7528;vs&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</a></li><li><span class="title-icon "></span><a href="#3-2&#x76F4;&#x63A5;&#x5230;&#x53D1;&#x5E03;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6267;&#x884C;dotnet-dll---urlshttp8099&#xFF0C;&#x65E2;&#x53EF;&#x4F7F;&#x7528;kestrel&#x670D;&#x52A1;&#x5668;"><b></b>3-2&gt;&#x76F4;&#x63A5;&#x5230;&#x53D1;&#x5E03;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6267;&#x884C;dotnet .dll --urls=&quot;http://\:8099&quot;&#xFF0C;&#x65E2;&#x53EF;&#x4F7F;&#x7528;kestrel&#x670D;&#x52A1;&#x5668;</a></li><li><span class="title-icon "></span><a href="#3-3iis&#x90E8;&#x7F72;&#x65B9;&#x5F0F;"><b></b>3-3&gt;IIS&#x90E8;&#x7F72;&#x65B9;&#x5F0F;</a></li></ul><li><span class="title-icon "></span><a href="#4aspnet-core&#x89E3;&#x8BFB;launchsettingsjson"><b></b>4&gt;ASP.Net Core&#x89E3;&#x8BFB;launchSettings.json</a></li><li><span class="title-icon "></span><a href="#5aspnet-core&#x4E2D;&#x95F4;&#x4EF6;startupconfigure"><b></b>5&gt;ASP.NET Core&#x4E2D;&#x95F4;&#x4EF6;(Startup.Configure)</a></li><ul><li><span class="title-icon "></span><a href="#5-1&#x5E38;&#x89C1;&#x4E2D;&#x95F4;&#x4EF6;&#x987A;&#x5E8F;"><b></b>5-1&gt;&#x5E38;&#x89C1;&#x4E2D;&#x95F4;&#x4EF6;&#x987A;&#x5E8F;</a></li><li><span class="title-icon "></span><a href="#5-2http&#x7BA1;&#x9053;&#x5BB9;&#x5668;&#x7531;&#x4E09;&#x4E2A;&#x6269;&#x5C55;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x7531;&#x3001;&#x6302;&#x8F7D;&#x7B49;&#x7B49;&#xFF0C;&#x5206;&#x522B;&#x662F;run-use-map"><b></b>5-2&gt;HTTP&#x7BA1;&#x9053;&#x5BB9;&#x5668;&#x7531;&#x4E09;&#x4E2A;&#x6269;&#x5C55;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x7531;&#x3001;&#x6302;&#x8F7D;&#x7B49;&#x7B49;&#xFF0C;&#x5206;&#x522B;&#x662F;Run, Use, Map.</a></li><ul><li><span class="title-icon "></span><a href="#5-2-1run&#x65B9;&#x6CD5;&#x4F1A;&#x4F7F;&#x5F97;&#x53EF;&#x4EE5;&#x4F7F;&#x7BA1;&#x9053;&#x77ED;&#x8DEF;&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7BA1;&#x9053;&#x5411;&#x4E0B;&#x6267;&#x884C;-&#x4E0D;&#x4F1A;&#x8C03;&#x7528;next&#x59D4;&#x6258;-&#x6240;&#x4EE5;run&#x65B9;&#x6CD5;&#x6700;&#x597D;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x7684;&#x6700;&#x540E;&#x6765;&#x6267;&#x884C;&#x3002;"><b></b>5-2-1&gt;Run&#x65B9;&#x6CD5;&#x4F1A;&#x4F7F;&#x5F97;&#x53EF;&#x4EE5;&#x4F7F;&#x7BA1;&#x9053;&#x77ED;&#x8DEF;&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7BA1;&#x9053;&#x5411;&#x4E0B;&#x6267;&#x884C;, &#x4E0D;&#x4F1A;&#x8C03;&#x7528;next()&#x59D4;&#x6258;, &#x6240;&#x4EE5;Run&#x65B9;&#x6CD5;&#x6700;&#x597D;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x7684;&#x6700;&#x540E;&#x6765;&#x6267;&#x884C;&#x3002;</a></li><li><span class="title-icon "></span><a href="#5-2-2use&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x77ED;&#x8DEF;&#x6574;&#x4E2A;http&#x7BA1;&#x9053;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5FC5;&#x987B;&#x81EA;&#x884C;&#x8C03;&#x7528;await-nextinvoke-&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53BB;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;use&#x6B64;&#x65F6;&#x7684;&#x6548;&#x679C;&#x5176;&#x5B9E;&#x548C;run&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;"><b></b>5-2-2&gt;Use&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x77ED;&#x8DEF;&#x6574;&#x4E2A;HTTP&#x7BA1;&#x9053;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5FC5;&#x987B;&#x81EA;&#x884C;&#x8C03;&#x7528;await next.Invoke(); &#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53BB;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;Use&#x6B64;&#x65F6;&#x7684;&#x6548;&#x679C;&#x5176;&#x5B9E;&#x548C;Run&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;</a></li><li><span class="title-icon "></span><a href="#5-2-3map&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x63D0;&#x4F9B;&#x7684;url&#x6765;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;"><b></b>5-2-3&gt;Map&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x63D0;&#x4F9B;&#x7684;URL&#x6765;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;</a></li></ul><li><span class="title-icon "></span><a href="#5-3&#x5185;&#x7F6E;&#x4E2D;&#x95F4;&#x4EF6;"><b></b>5-3&gt;&#x5185;&#x7F6E;&#x4E2D;&#x95F4;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#5-4&#x6784;&#x5EFA;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6D41;&#x7A0B;&#x53C2;&#x8003;httpswwwcnblogscomstulzqp7760648html"><b></b>5-4&gt;&#x6784;&#x5EFA;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6D41;&#x7A0B;&#x53C2;&#x8003;https://www.cnblogs.com/stulzq/p/7760648.html</a></li><li><span class="title-icon "></span><a href="#5-5&#x56E0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x671F;&#x95F4;&#xFF0C;&#x4E2D;&#x95F4;&#x4EF6;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x751F;&#x547D;&#x5468;&#x671F;&#x670D;&#x52A1;&#x4E0D;&#x4F1A;&#x4E0E;&#x5176;&#x4ED6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7C7B;&#x578B;&#x5171;&#x4EAB;&#x3002;"><b></b>*5-5&gt;&#x56E0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x671F;&#x95F4;&#xFF0C;&#x4E2D;&#x95F4;&#x4EF6;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x751F;&#x547D;&#x5468;&#x671F;&#x670D;&#x52A1;&#x4E0D;&#x4F1A;&#x4E0E;&#x5176;&#x4ED6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7C7B;&#x578B;&#x5171;&#x4EAB;&#x3002;</a></li><li><span class="title-icon "></span><a href="#5-6&#x82E5;&#x8981;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x5185;&#x83B7;&#x53D6;&#x63A7;&#x5236;&#x5668;&#x540D;&#x79F0;&#x548C;&#x52A8;&#x4F5C;&#x540D;&#x7B49;&#x4FE1;&#x606F;-&#x9700;&#x8981;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x653E;&#x5728;appuserouting&#x540E;-&#x53EF;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;"><b></b>*5-6&gt;&#x82E5;&#x8981;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x5185;&#x83B7;&#x53D6;&#x63A7;&#x5236;&#x5668;&#x540D;&#x79F0;&#x548C;&#x52A8;&#x4F5C;&#x540D;&#x7B49;&#x4FE1;&#x606F;, &#x9700;&#x8981;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x653E;&#x5728;app.UseRouting()&#x540E;, &#x53EF;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;.</a></li><li><span class="title-icon "></span><a href="#5-7&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x4E8E;istartupfilter&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x53C2;&#x8003;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsstartupviewaspnetcore-31"><b></b>*5-7&gt;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x4E8E;IStartupFilter&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x53C2;&#x8003;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/startup?view=aspnetcore-3.1</a></li></ul><li><span class="title-icon "></span><a href="#6aspnet-core-configureservices"><b></b>6&gt;ASP.NET Core ConfigureServices</a></li><ul><li><span class="title-icon "></span><a href="#6-1&#x62D3;&#x5C55;&#x77E5;&#x8BC6;"><b></b>6-1&gt;&#x62D3;&#x5C55;&#x77E5;&#x8BC6;</a></li><li><span class="title-icon "></span><a href="#6-2configureservices&#x5141;&#x8BB8;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;serviceprovider&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7684;&#x91CD;&#x8981;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#x5B83;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E0E;&#x7B2C;&#x4E09;&#x65B9;di&#x6846;&#x67B6;&#xFF08;&#x6BD4;&#x5982;unity&#x3001;castle&#x3001;ninject&#x548C;autofac&#x7B49;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x3002;"><b></b>6-2&gt;ConfigureServices&#x5141;&#x8BB8;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;ServiceProvider&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7684;&#x91CD;&#x8981;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#x5B83;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E0E;&#x7B2C;&#x4E09;&#x65B9;DI&#x6846;&#x67B6;&#xFF08;&#x6BD4;&#x5982;Unity&#x3001;Castle&#x3001;Ninject&#x548C;AutoFac&#x7B49;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x3002;</a></li><ul><li><span class="title-icon "></span><a href="#6-2-1&#x5F15;&#x5165;nuget&#x5305;-autofac-autofacextensionsdependencyinjection-autofacextrasdynamicproxy"><b></b>6-2-1&gt;&#x5F15;&#x5165;Nuget&#x5305;, Autofac, Autofac.Extensions.DependencyInjection, Autofac.Extras.DynamicProxy</a></li><li><span class="title-icon "></span><a href="#6-2-2&#x4FEE;&#x6539;programcs-&#x52A0;&#x5165;-useserviceproviderfactorynew-autofacserviceproviderfactory"><b></b>6-2-2&gt;&#x4FEE;&#x6539;Program.cs, &#x52A0;&#x5165; .UseServiceProviderFactory(new AutofacServiceProviderFactory())</a></li><li><span class="title-icon "></span><a href="#6-2-3&#x4FEE;&#x6539;startup-&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;-configurecontainer"><b></b>6-2-3&gt;&#x4FEE;&#x6539;Startup, &#x6DFB;&#x52A0;&#x65B9;&#x6CD5; ConfigureContainer</a></li><li><span class="title-icon "></span><a href="#6-2-4&#x914D;&#x7F6E;controller&#x5168;&#x90E8;&#x7531;autofac&#x521B;&#x5EFA;&#x82E5;&#x4E0D;&#x914D;&#x7F6E;&#xFF0C;&#x5219;controller&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7531;&#x539F;&#x672C;&#x7684;&#x6846;&#x67B6;&#x5B9E;&#x73B0;"><b></b>6-2-4&gt;&#x914D;&#x7F6E;Controller&#x5168;&#x90E8;&#x7531;Autofac&#x521B;&#x5EFA;(&#x82E5;&#x4E0D;&#x914D;&#x7F6E;&#xFF0C;&#x5219;Controller&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7531;&#x539F;&#x672C;&#x7684;&#x6846;&#x67B6;&#x5B9E;&#x73B0;)</a></li><li><span class="title-icon "></span><a href="#6-2-5&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x4F7F;&#x7528;autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;"><b></b>6-2-5&gt;&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x4F7F;&#x7528;Autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;</a></li><li><span class="title-icon "></span><a href="#6-2-6&#x5728;&#x5176;&#x4ED6;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x4EE5;&#x53CA;&#x5C5E;&#x6027;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x5C5E;&#x6027;&#x4F9D;&#x8D56;&#x6CE8;&#x89C4;&#x5219;&#x4E0E;&#x63A7;&#x5236;&#x5668;&#x76F8;&#x540C;&#x3002;"><b></b>6-2-6&gt;&#x5728;&#x5176;&#x4ED6;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x53EF;&#x662F;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x4EE5;&#x53CA;&#x5C5E;&#x6027;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x5C5E;&#x6027;&#x4F9D;&#x8D56;&#x6CE8;&#x89C4;&#x5219;&#x4E0E;&#x63A7;&#x5236;&#x5668;&#x76F8;&#x540C;&#x3002;</a></li><li><span class="title-icon "></span><a href="#6-2-7&#x8BBE;&#x7F6E;&#x5168;&#x5C40;autofaccontainer"><b></b>6-2-7&gt;&#x8BBE;&#x7F6E;&#x5168;&#x5C40;AutofacContainer</a></li><li><span class="title-icon "></span><a href="#6-2-8&#x9762;&#x5411;aop&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x62E6;&#x622A;-&#x62E6;&#x622A;&#x5668;&#x6CE8;&#x518C;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;&#x578B;&#x4E4B;&#x524D;-&#x5728;&#x63A5;&#x53E3;&#x4E0A;&#x6DFB;&#x52A0;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x8FDB;&#x5165;&#x62E6;&#x622A;&#x5668;&#x3002;"><b></b>6-2-8&gt;&#x9762;&#x5411;AOP&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x62E6;&#x622A;, &#x62E6;&#x622A;&#x5668;&#x6CE8;&#x518C;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;&#x578B;&#x4E4B;&#x524D;, &#x5728;&#x63A5;&#x53E3;&#x4E0A;&#x6DFB;&#x52A0;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x8FDB;&#x5165;&#x62E6;&#x622A;&#x5668;&#x3002;</a></li><li><span class="title-icon "></span><a href="#6-2-9iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x7684;autofaccontainer&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x3002;"><b></b>6-2-9&gt;IServiceProvider&#x548C;IComponentContext&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x7684;AutofacContainer&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;IServiceProvider&#x548C;IComponentContext&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x3002;</a></li><li><span class="title-icon "></span><a href="#6-2-10&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x4E2A;&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;"><b></b>6-2-10&gt;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x4E2A;&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;</a></li><li><span class="title-icon "></span><a href="#6-2-11autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;json&#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B9E;&#x73B0;&#xFF0C;&#x53C2;&#x8003;httpswwwlimitcodecomdetail5f1406baed56b80fe4cc1d0ahtml"><b></b>6-2-11&gt;Autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;json&#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B9E;&#x73B0;&#xFF0C;&#x53C2;&#x8003;https://www.limitcode.com/detail/5f1406baed56b80fe4cc1d0a.html</a></li></ul></ul><li><span class="title-icon "></span><a href="#7&#x4E3B;&#x673A;"><b></b>7&gt;&#x4E3B;&#x673A;</a></li><ul><li><span class="title-icon "></span><a href="#7-1&#x901A;&#x7528;&#x4E3B;&#x673A;&#x53EF;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x7B49;&#x7A0B;&#x5E8F;-&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x914D;&#x7F6E;-&#x65E5;&#x5FD7;&#x7B49;&#x529F;&#x80FD;"><b></b>7-1&gt;&#x901A;&#x7528;&#x4E3B;&#x673A;(&#x53EF;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x7B49;&#x7A0B;&#x5E8F;, &#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x914D;&#x7F6E;, &#x65E5;&#x5FD7;&#x7B49;&#x529F;&#x80FD;)</a></li><ul><li><span class="title-icon "></span><a href="#7-1-1&#x53C2;&#x8003;"><b></b>7-1-1&gt;&#x53C2;&#x8003;</a></li><li><span class="title-icon "></span><a href="#7-1-2netcore&#x4E2D;&#x7684;ihostedservice"><b></b>7-1-2&gt;.NetCore&#x4E2D;&#x7684;IHostedService</a></li><li><span class="title-icon "></span><a href="#7-1-3&#x4EE5;&#x4E0B;demo&#x5B9E;&#x73B0;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x4E3B;&#x673A;&#x4F18;&#x96C5;&#x5199;&#x6CD5;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5B9A;&#x65F6;&#x529F;&#x80FD;&#x3002;"><b></b>7-1-3&gt;&#x4EE5;&#x4E0B;demo&#x5B9E;&#x73B0;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x4E3B;&#x673A;&#x4F18;&#x96C5;&#x5199;&#x6CD5;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5B9A;&#x65F6;&#x529F;&#x80FD;&#x3002;</a></li></ul><li><span class="title-icon "></span><a href="#7-2web&#x4E3B;&#x673A;&#x5728;3x&#x7248;&#x672C;"><b></b>7-2&gt;Web&#x4E3B;&#x673A;(&#x5728;3.x&#x7248;&#x672C;)</a></li><ul><li><span class="title-icon "></span><a href="#7-2-1kestrel&#x7684;&#x914D;&#x7F6E;-&#x53EF;&#x4EE5;&#x5728;configurewebhostdefaults&#x5185;&#x4F7F;&#x7528;webbuilderconfigurekestrel&#x914D;&#x7F6E;-&#x4E5F;&#x53EF;&#x4EE5;&#x5728;configureservices&#x91CC;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><b></b>7-2-1&gt;Kestrel&#x7684;&#x914D;&#x7F6E;, &#x53EF;&#x4EE5;&#x5728;ConfigureWebHostDefaults&#x5185;&#x4F7F;&#x7528;webBuilder.ConfigureKestrel&#x914D;&#x7F6E;, &#x4E5F;&#x53EF;&#x4EE5;&#x5728;ConfigureServices&#x91CC;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;.</a></li><li><span class="title-icon "></span><a href="#7-2-2kestrelserveroptionslimitsmaxrequestbodysize--null-&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x7684;&#x5927;&#x5C0F;-null&#x4E3A;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;action&#x4E0A;-&#x4F7F;&#x7528;requestsizelimit100000000&#x6765;&#x4E3A;&#x6BCF;&#x4E2A;action&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;"><b></b>7-2-2&gt;kestrelServerOptions.Limits.MaxRequestBodySize = null; //&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x7684;&#x5927;&#x5C0F;, null&#x4E3A;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;Action&#x4E0A;, &#x4F7F;&#x7528;[RequestSizeLimit(100000000)]&#x6765;&#x4E3A;&#x6BCF;&#x4E2A;Action&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;.</a></li><li><span class="title-icon "></span><a href="#7-2-3kestrel&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x5B98;&#x7F51;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsserverskestrelviewaspnetcore-31kestrel-options"><b></b>7-2-3&gt;Kestrel&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x5B98;&#x7F51;https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/servers/kestrel?view=aspnetcore-3.1#kestrel-options.</a></li></ul></ul><li><span class="title-icon "></span><a href="#8&#x914D;&#x7F6E;--&#x9009;&#x9879;"><b></b>8&gt;&#x914D;&#x7F6E; &amp; &#x9009;&#x9879;</a></li><ul><li><span class="title-icon "></span><a href="#8-1-&#x914D;&#x7F6E;&#x6765;&#x6E90;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7684;&#x987A;&#x5E8F;"><b></b>8-1&gt; &#x914D;&#x7F6E;&#x6765;&#x6E90;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7684;&#x987A;&#x5E8F;</a></li><li><span class="title-icon "></span><a href="#8-2&#x914D;&#x7F6E;&#x7EA6;&#x5B9A;"><b></b>8-2&gt;&#x914D;&#x7F6E;&#x7EA6;&#x5B9A;</a></li><li><span class="title-icon "></span><a href="#8-3&#x83B7;&#x53D6;&#x914D;&#x7F6E;&#x503C;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;"><b></b>8-3&gt;&#x83B7;&#x53D6;&#x914D;&#x7F6E;&#x503C;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;</a></li><ul><li><span class="title-icon "></span><a href="#8-3-1&#x76F4;&#x63A5;&#x83B7;&#x53D6;"><b></b>8-3-1&gt;&#x76F4;&#x63A5;&#x83B7;&#x53D6;</a></li><li><span class="title-icon "></span><a href="#8-3-2&#x5B9E;&#x4F8B;&#x5316;&#x5B9E;&#x4F53;&#x83B7;&#x53D6;"><b></b>8-3-2&gt;&#x5B9E;&#x4F8B;&#x5316;&#x5B9E;&#x4F53;&#x83B7;&#x53D6;</a></li><li><span class="title-icon "></span><a href="#8-3-3&#x5728;configureservices&#x4F7F;&#x7528;servicesconfigureconfigurationgetsection&#x6765;&#x6CE8;&#x518C;&#x914D;&#x7F6E;-&#x540E;&#x7EED;&#x53EF;&#x4F7F;&#x7528;ioptions-options&#x6765;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;-&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x62BD;&#x5230;&#x62D3;&#x5C55;&#x65B9;&#x6CD5;&#x7C7B;&#x4E2D;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;"><b></b>8-3-3&gt;&#x5728;ConfigureServices&#x4F7F;&#x7528;services.Configure(Configuration.GetSection(&quot;&quot;))&#x6765;&#x6CE8;&#x518C;&#x914D;&#x7F6E;, &#x540E;&#x7EED;&#x53EF;&#x4F7F;&#x7528;IOptions options&#x6765;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;, &#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x62BD;&#x5230;&#x62D3;&#x5C55;&#x65B9;&#x6CD5;&#x7C7B;&#x4E2D;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;.</a></li><li><span class="title-icon "></span><a href="#8-3-4ioptions-ioptionssnapshot-ioptionsmonitor"><b></b>8-3-4&gt;IOptions, IOptionsSnapshot, IOptionsMonitor</a></li></ul><li><span class="title-icon "></span><a href="#8-4&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;"><b></b>8-4&gt;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;</a></li><li><span class="title-icon "></span><a href="#8-5&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;"><b></b>8-5&gt;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;</a></li><ul><li><span class="title-icon "></span><a href="#8-5-1&#x914D;&#x7F6E;&#x81EA;&#x53D8;&#x91CF;&#x793A;&#x4F8B;"><b></b>8-5-1&gt;&#x914D;&#x7F6E;&#x81EA;&#x53D8;&#x91CF;&#x793A;&#x4F8B;</a></li><li><span class="title-icon "></span><a href="#8-5-2key&#x4EA4;&#x6362;&#x6620;&#x5C04;"><b></b>8-5-2&gt;key&#x4EA4;&#x6362;&#x6620;&#x5C04;</a></li></ul><li><span class="title-icon "></span><a href="#8-6&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addjsonfile&#x5E38;&#x7528;-addinifile-addxmlfile"><b></b>8-6&gt;&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;AddJsonFile(&#x5E38;&#x7528;), AddIniFile, AddXmlFile</a></li><li><span class="title-icon "></span><a href="#8-7key-per-file-&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;-addkeyperfile&#x6CA1;&#x7528;&#x8FC7;-&#x9700;&#x8981;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10285906html"><b></b>8-7&gt;Key-per-file &#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F; AddKeyPerFile(&#x6CA1;&#x7528;&#x8FC7;), &#x9700;&#x8981;&#x53EF;&#x4EE5;&#x53C2;&#x8003;: https://www.cnblogs.com/MrHSR/p/10285906.html</a></li><li><span class="title-icon "></span><a href="#8-8&#x5185;&#x5B58;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addinmemorycollection"><b></b>8-8&gt;&#x5185;&#x5B58;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;AddInMemoryCollection</a></li><li><span class="title-icon "></span><a href="#8-9&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x8BFB;&#x53D6;&#x65B9;&#x6CD5;getvalue&#x3001;getsection&#x3001;getchildren-&#x548C;-exists"><b></b>8-9&gt;&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x8BFB;&#x53D6;&#x65B9;&#x6CD5;(GetValue&#x3001;GetSection&#x3001;GetChildren &#x548C; Exists)</a></li><ul><li><span class="title-icon "></span><a href="#8-9-1getvalue"><b></b>8-9-1&gt;GetValue</a></li><li><span class="title-icon "></span><a href="#8-9-2getsection"><b></b>8-9-2&gt;GetSection</a></li><li><span class="title-icon "></span><a href="#8-9-3getchildren"><b></b>8-9-3&gt;GetChildren</a></li><li><span class="title-icon "></span><a href="#8-9-4exists"><b></b>8-9-4&gt;Exists</a></li></ul><li><span class="title-icon "></span><a href="#8-10&#x81EA;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;"><b></b>8-10&gt;&#x81EA;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;</a></li></ul><li><span class="title-icon "></span><a href="#9&#x8DEF;&#x7531;"><b></b>9&gt;&#x8DEF;&#x7531;</a></li><ul><li><span class="title-icon "></span><a href="#9-1mvc&#x6846;&#x67B6;&#x8DEF;&#x7531;"><b></b>9-1&gt;MVC&#x6846;&#x67B6;&#x8DEF;&#x7531;</a></li><ul><li><span class="title-icon "></span><a href="#9-1-1&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;"><b></b>9-1-1&gt;&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#9-1-2&#x4F20;&#x7EDF;&#x8DEF;&#x7531;"><b></b>9-1-2&gt;&#x4F20;&#x7EDF;&#x8DEF;&#x7531;</a></li><li><span class="title-icon "></span><a href="#9-1-3&#x5C5E;&#x6027;&#x8DEF;&#x7531;"><b></b>9-1-3&gt;&#x5C5E;&#x6027;&#x8DEF;&#x7531;</a></li><li><span class="title-icon "></span><a href="#9-1-4&#x7528;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x63A7;&#x5236;url"><b></b>9-1-4&gt;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x63A7;&#x5236;URL</a></li><li><span class="title-icon "></span><a href="#9-1-5area-&#x533A;&#x57DF;&#x8DEF;&#x7531;"><b></b>9-1-5&gt;area &#x533A;&#x57DF;&#x8DEF;&#x7531;</a></li><li><span class="title-icon "></span><a href="#9-1-6iactionconstraint-&#x8DEF;&#x7531;&#x7EA6;&#x675F;"><b></b>9-1-6&gt;IActionConstraint &#x8DEF;&#x7531;&#x7EA6;&#x675F;</a></li></ul><li><span class="title-icon "></span><a href="#9-2razor&#x6846;&#x67B6;&#x8DEF;&#x7531;&#x57FA;&#x672C;&#x505A;&#x7684;&#x9879;&#x76EE;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;-&#x60F3;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10265458html"><b></b>9-2&gt;Razor&#x6846;&#x67B6;&#x8DEF;&#x7531;(&#x57FA;&#x672C;&#x505A;&#x7684;&#x9879;&#x76EE;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;, &#x60F3;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003; https://www.cnblogs.com/MrHSR/p/10265458.html)</a></li></ul><li><span class="title-icon "></span><a href="#10&#x9519;&#x8BEF;&#x5904;&#x7406;"><b></b>10&gt;&#x9519;&#x8BEF;&#x5904;&#x7406;</a></li><ul><li><span class="title-icon "></span><a href="#10-1&#x914D;&#x7F6E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5F02;&#x5E38;&#x9875;"><b></b>10-1&gt;&#x914D;&#x7F6E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5F02;&#x5E38;&#x9875;</a></li><li><span class="title-icon "></span><a href="#10-2&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;"><b></b>10-2&gt;&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;</a></li><li><span class="title-icon "></span><a href="#10-3&#x914D;&#x7F6E;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x9875;"><b></b>10-3&gt;&#x914D;&#x7F6E;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x9875;</a></li><li><span class="title-icon "></span><a href="#10-4usestatuscodepageswithredirects&#x91CD;&#x5B9A;&#x5411;"><b></b>10-4&gt;UseStatusCodePagesWithRedirects&#x91CD;&#x5B9A;&#x5411;</a></li></ul></ul></div><h1 id="1net-core&#x4E2D;&#x7684;session&#x4EE5;&#x53CA;httpcontext&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x5C0F;&#x7ED3;"><a name="1net-core&#x4E2D;&#x7684;session&#x4EE5;&#x53CA;httpcontext&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x5C0F;&#x7ED3;" class="anchor-navigation-ex-anchor" href="#1net-core&#x4E2D;&#x7684;session&#x4EE5;&#x53CA;httpcontext&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x5C0F;&#x7ED3;"><i class="fa fa-link" aria-hidden="true"></i></a>1&gt;.net core&#x4E2D;&#x7684;Session&#x4EE5;&#x53CA;HttpContext&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x5C0F;&#x7ED3;</h1>
<h2 id="1-1httpswwwjianshucomp0315aa029867"><a name="1-1httpswwwjianshucomp0315aa029867" class="anchor-navigation-ex-anchor" href="#1-1httpswwwjianshucomp0315aa029867"><i class="fa fa-link" aria-hidden="true"></i></a>1-1&gt;<a href="https://www.jianshu.com/p/0315aa029867" target="_blank">https://www.jianshu.com/p/0315aa029867</a></h2>
<p>*&#x5728;MVC Controller&#x91CC;&#x4F7F;&#x7528;HttpContext.Session</p>
<pre class="language-"><code class="lang-C#">HttpContext.Session.SetString(&quot;code&quot;,&quot;123456&quot;);
ViewBag.Code=HttpContext.Session.GetString(&quot;code&quot;);
</code></pre>
<p>*&#x5982;&#x679C;&#x4E0D;&#x662F;&#x5728;Controller&#x91CC;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6CE8;&#x5165;IHttpContextAccessor&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x5728;&#x7C7B;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x91CC;&#x9762;&#x6CE8;&#x5165;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-c#">public class SomeOtherClass
{
   private readonly IHttpContextAccessor _httpContextAccessor;
   private ISession _session=&gt; _httpContextAccessor.HttpContext.Session;

   public SomeOtherClass(IHttpContextAccessor httpContextAccessor)
   {
      _httpContextAccessor=httpContextAccessor;      
   }

   public void Set()
   {
     _session.SetString(&quot;code&quot;,&quot;123456&quot;);
   }

   public void Get()
   {
     string code = _session.GetString(&quot;code&quot;);
   }
}
</code></pre>
<p>*&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x662F;&#x901A;&#x8FC7;IServiceProvider&#xFF0C;&#x8FD9;&#x65F6;&#x9700;&#x8981;&#x5728;startup&#x4E2D;Configure&#x4E2D;&#x5F97;&#x5230;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;</p>
<pre class="language-"><code class="lang-c#">Microsoft.AspNetCore.Http.IHttpContextAccessor factory = app.ApplicationServices.GetService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Microsoft.AspNetCore.Http.IHttpContextAccessor</span><span class="token punctuation">&gt;</span></span>();
Microsoft.AspNetCore.Http.HttpContext context = factory.HttpContext;
</code></pre>
<p>&#x6216;&#x8005;</p>
<pre class="language-"><code class="lang-c#">Microsoft.AspNetCore.Http.IHttpContextAccessor factory = app.ApplicationServices.GetService(typeof(Microsoft.AspNetCore.Http.IHttpContextAccessor));
Microsoft.AspNetCore.Http.HttpContext context = factory.HttpContext;
</code></pre>
<h2 id="1-2&#x82E5;&#x51FA;&#x73B0;error-unprotecting-the-session-cookiethe-payload-was-invalid&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#xFF0C;&#x589E;&#x52A0;servicesadddataprotection&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x6D4F;&#x89C8;&#x5668;&#x3002;"><a name="1-2&#x82E5;&#x51FA;&#x73B0;error-unprotecting-the-session-cookiethe-payload-was-invalid&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#xFF0C;&#x589E;&#x52A0;servicesadddataprotection&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x6D4F;&#x89C8;&#x5668;&#x3002;" class="anchor-navigation-ex-anchor" href="#1-2&#x82E5;&#x51FA;&#x73B0;error-unprotecting-the-session-cookiethe-payload-was-invalid&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#xFF0C;&#x589E;&#x52A0;servicesadddataprotection&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x6D4F;&#x89C8;&#x5668;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>1-2&gt;&#x82E5;&#x51FA;&#x73B0;Error unprotecting the session cookie.The payload was invalid&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#xFF0C;&#x589E;&#x52A0;services.AddDataProtection()&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x6D4F;&#x89C8;&#x5668;&#x3002;</h2>
<p><a href="https://www.cnblogs.com/vipsoft/p/13045581.html" target="_blank">https://www.cnblogs.com/vipsoft/p/13045581.html</a></p>
<h2 id="1-3&#x82E5;&#x51FA;&#x73B0;&#x8B66;&#x544A;-no-xml-encryptor-configured-key-may-be-persisted-to-storage-in-unencrypted-form&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#x5904;&#x7406;&#x6CA1;&#x5F04;&#x51FA;&#x6765;"><a name="1-3&#x82E5;&#x51FA;&#x73B0;&#x8B66;&#x544A;-no-xml-encryptor-configured-key-may-be-persisted-to-storage-in-unencrypted-form&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#x5904;&#x7406;&#x6CA1;&#x5F04;&#x51FA;&#x6765;" class="anchor-navigation-ex-anchor" href="#1-3&#x82E5;&#x51FA;&#x73B0;&#x8B66;&#x544A;-no-xml-encryptor-configured-key-may-be-persisted-to-storage-in-unencrypted-form&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#x5904;&#x7406;&#x6CA1;&#x5F04;&#x51FA;&#x6765;"><i class="fa fa-link" aria-hidden="true"></i></a>1-3&gt;&#x82E5;&#x51FA;&#x73B0;&#x8B66;&#x544A; No XML encryptor configured. Key may be persisted to storage in unencrypted form&#xFF0C;&#x5219;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;&#x5904;&#x7406;(&#x6CA1;&#x5F04;&#x51FA;&#x6765;)</h2>
<p><a href="https://www.cnblogs.com/dudu/p/9589012.html" target="_blank">https://www.cnblogs.com/dudu/p/9589012.html</a>
<a href="https://www.pianshen.com/article/14361061895" target="_blank">https://www.pianshen.com/article/14361061895</a></p>
<pre class="language-"><code class="lang-powershell">openssl req <span class="token operator">-</span>x509 <span class="token operator">-</span>newkey rsa:4096 <span class="token operator">-</span>sha256 <span class="token operator">-</span>nodes <span class="token operator">-</span>keyout dylan<span class="token punctuation">.</span>key <span class="token operator">-</span>out dylan<span class="token punctuation">.</span>crt <span class="token operator">-</span>subj <span class="token string">&quot;/CN=dylan.com&quot;</span> <span class="token operator">-</span>days 3650
openssl pkcs12 <span class="token operator">-</span>export <span class="token operator">-</span>out dylan<span class="token punctuation">.</span>pfx <span class="token operator">-</span>inkey dylan<span class="token punctuation">.</span>key <span class="token operator">-in</span> dylan<span class="token punctuation">.</span>crt <span class="token operator">-</span>certfile dylan<span class="token punctuation">.</span>crt <span class="token operator">-</span>passout pass:
dylan<span class="token punctuation">.</span>key
</code></pre>
<h1 id="2net-core-&#x6CE8;&#x5165;log4net&#x53EF;&#x4EE5;&#x5728;startup&#x6216;&#x8005;programme&#x914D;&#x7F6E;"><a name="2net-core-&#x6CE8;&#x5165;log4net&#x53EF;&#x4EE5;&#x5728;startup&#x6216;&#x8005;programme&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#2net-core-&#x6CE8;&#x5165;log4net&#x53EF;&#x4EE5;&#x5728;startup&#x6216;&#x8005;programme&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>2&gt;net core &#x6CE8;&#x5165;log4net(&#x53EF;&#x4EE5;&#x5728;startup&#x6216;&#x8005;programme&#x914D;&#x7F6E;)</h1>
<p>*&#x6CE8;&#x610F;&#xFF1A;DatePattern&#x4E2D;&#x7684;value&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;.log&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x6210;&apos;.log&apos;</p>
<h2 id="2-1&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x7AD9;&#x70B9;"><a name="2-1&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x7AD9;&#x70B9;" class="anchor-navigation-ex-anchor" href="#2-1&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x7AD9;&#x70B9;"><i class="fa fa-link" aria-hidden="true"></i></a>2-1&gt;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x7AD9;&#x70B9;</h2>
<p><a href="https://www.cnblogs.com/kevin860/p/13170107.html" target="_blank">https://www.cnblogs.com/kevin860/p/13170107.html</a>
<a href="https://www.cnblogs.com/zxp6/p/12464559.html" target="_blank">https://www.cnblogs.com/zxp6/p/12464559.html</a>
<a href="https://blog.csdn.net/MrLsss/article/details/109258064" target="_blank">https://blog.csdn.net/MrLsss/article/details/109258064</a>
<a href="https://blog.csdn.net/liangmengbk/article/details/107729402" target="_blank">https://blog.csdn.net/liangmengbk/article/details/107729402</a></p>
<h2 id="2-2log4netconfig&#x914D;&#x7F6E;"><a name="2-2log4netconfig&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#2-2log4netconfig&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>2-2&gt;log4net.config&#x914D;&#x7F6E;</h2>
<p><a href="https://www.cnblogs.com/kevin860/p/13170107.html" target="_blank">https://www.cnblogs.com/kevin860/p/13170107.html</a>
<a href="https://www.cnblogs.com/changsen-wang/p/14275037.html" target="_blank">https://www.cnblogs.com/changsen-wang/p/14275037.html</a></p>
<pre class="language-"><code class="lang-C#">.ConfigureLogging((context, loggingBuilder) =&gt;
{
    loggingBuilder.SetMinimumLevel(LogLevel.Warning);
    loggingBuilder.AddFilter(&quot;System&quot;, LogLevel.Information);
    loggingBuilder.AddFilter(&quot;Microsoft&quot;, LogLevel.Information);

/*&#x7B2C;&#x4E8C;&#x79CD;&#xFF0C;&#x5728;ConfigureLogging&#x914D;&#x7F6E;log4net begin*/
var cfgFilePath = Path.Combine(FramePublicFun.GetDllPath(), SysContant.Log4Net_CfgFileName);
loggingBuilder.AddLog4Net(cfgFilePath);
/*&#x7B2C;&#x4E8C;&#x79CD;&#xFF0C;&#x5728;ConfigureLogging&#x914D;&#x7F6E;log4net end*/

})
&#x5728;Configure&#x5C06;&#x65E5;&#x5FD7;&#x5BF9;&#x8C61;&#x6CE8;&#x518C;&#x5230;&#x5168;&#x5C40;&#x9759;&#x6001;&#x53D8;&#x91CF;
//&#x6CE8;&#x518C;&#x7CFB;&#x7EDF;&#x4E2D;&#x9759;&#x6001;&#x7C7B;&#x7684;&#x6846;&#x67B6;&#x65E5;&#x5FD7;&#x670D;&#x52A1;
loggerFactory.RegisterGlobaltLogger();
</code></pre>
<h2 id="2-3&#x5185;&#x7F6E;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;"><a name="2-3&#x5185;&#x7F6E;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;" class="anchor-navigation-ex-anchor" href="#2-3&#x5185;&#x7F6E;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;"><i class="fa fa-link" aria-hidden="true"></i></a>2-3&gt;&#x5185;&#x7F6E;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;</h2>
<p>(1) &#x63A7;&#x5236;&#x53F0;
logging.AddConsole(); dotnet run &#x67E5;&#x770B;&#x63A7;&#x5236;&#x53F0;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x8F93;&#x51FA;&#x3002;<br>(2) &#x8C03;&#x8BD5;
logging.AddDebug(); &#x5728; Linux &#x4E2D;&#xFF0C;&#x6B64;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x5C06;&#x65E5;&#x5FD7;&#x5199;&#x5165; /var/log/message&#x3002;
(3) EventSource
logging.AddEventSourceLogger(); &#x5728; Windows &#x4E2D;&#xFF0C;&#x5B83;&#x4F7F;&#x7528; PerfView &#x5B9E;&#x7528;&#x5DE5;&#x5177;&#x6536;&#x96C6;&#x548C;&#x67E5;&#x770B;&#x65E5;&#x5FD7;&#xFF0C;&#x4F46;&#x5C1A;&#x65E0;&#x652F;&#x6301; Linux &#x6216; macOS &#x7684;&#x4E8B;&#x4EF6;&#x96C6;&#x5408;&#x548C;&#x663E;&#x793A;&#x5DE5;&#x5177;&#x3002;
(4) EventLog
logging.AddEventLog();&#x5411; Windows &#x4E8B;&#x4EF6;&#x65E5;&#x5FD7;&#x53D1;&#x9001;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x3002;
(5) TraceSource
logging.AddTraceSource(sourceSwitchName);&#x5E94;&#x7528;&#x5FC5;&#x987B;&#x5728; .NET Framework&#xFF08;&#x800C;&#x975E; .NET Core&#xFF09;&#x4E0A;&#x8FD0;&#x884C;&#x3002;
2-4&gt;appsettings.json&#x4E2D;&#x65E5;&#x5FD7;&#x914D;&#x7F6E;&#x7684;&#x89E3;&#x8BFB;, &#x53EF;&#x53C2;&#x8003;&#x5B98;&#x7F51; <a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/logging/?view=aspnetcore-5.0" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/logging/?view=aspnetcore-5.0</a></p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;Logging&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;LogLevel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// All providers, LogLevel applies to all the enabled providers.</span>
      <span class="token property">&quot;Default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Error&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Default logging, Error and higher.</span>
      <span class="token property">&quot;Microsoft&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Warning&quot;</span> <span class="token comment">// All Microsoft* categories, Warning and higher.</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Debug&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// Debug provider.</span>
      <span class="token property">&quot;LogLevel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Information&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Overrides preceding LogLevel:Default setting.</span>
        <span class="token property">&quot;Microsoft.Hosting&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Trace&quot;</span> <span class="token comment">// Debug:Microsoft.Hosting category.</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;EventSource&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// EventSource provider</span>
      <span class="token property">&quot;LogLevel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Warning&quot;</span> <span class="token comment">// All categories of EventSource provider.</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="3net-core-&#x90E8;&#x7F72;-iis"><a name="3net-core-&#x90E8;&#x7F72;-iis" class="anchor-navigation-ex-anchor" href="#3net-core-&#x90E8;&#x7F72;-iis"><i class="fa fa-link" aria-hidden="true"></i></a>3&gt;net core &#x90E8;&#x7F72; IIS</h1>
<h2 id="3-1&#x4F7F;&#x7528;vs&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;"><a name="3-1&#x4F7F;&#x7528;vs&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;" class="anchor-navigation-ex-anchor" href="#3-1&#x4F7F;&#x7528;vs&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;"><i class="fa fa-link" aria-hidden="true"></i></a>3-1&gt;&#x4F7F;&#x7528;vs&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</h2>
<h2 id="3-2&#x76F4;&#x63A5;&#x5230;&#x53D1;&#x5E03;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6267;&#x884C;dotnet-dll---urlshttp8099&#xFF0C;&#x65E2;&#x53EF;&#x4F7F;&#x7528;kestrel&#x670D;&#x52A1;&#x5668;"><a name="3-2&#x76F4;&#x63A5;&#x5230;&#x53D1;&#x5E03;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6267;&#x884C;dotnet-dll---urlshttp8099&#xFF0C;&#x65E2;&#x53EF;&#x4F7F;&#x7528;kestrel&#x670D;&#x52A1;&#x5668;" class="anchor-navigation-ex-anchor" href="#3-2&#x76F4;&#x63A5;&#x5230;&#x53D1;&#x5E03;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6267;&#x884C;dotnet-dll---urlshttp8099&#xFF0C;&#x65E2;&#x53EF;&#x4F7F;&#x7528;kestrel&#x670D;&#x52A1;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>3-2&gt;&#x76F4;&#x63A5;&#x5230;&#x53D1;&#x5E03;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6267;&#x884C;dotnet <strong>.dll --urls=&quot;http://\</strong>:8099&quot;&#xFF0C;&#x65E2;&#x53EF;&#x4F7F;&#x7528;kestrel&#x670D;&#x52A1;&#x5668;</h2>
<h2 id="3-3iis&#x90E8;&#x7F72;&#x65B9;&#x5F0F;"><a name="3-3iis&#x90E8;&#x7F72;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#3-3iis&#x90E8;&#x7F72;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>3-3&gt;IIS&#x90E8;&#x7F72;&#x65B9;&#x5F0F;</h2>
<p>&#x7528;IIS&#x90E8;&#x7F72;&#x7F51;&#x7AD9;&#x540E;, &#x770B;&#x770B;&#x7F51;&#x7AD9;&#x91CC;&#x7684;&quot;&#x6A21;&#x5757;&quot;, &#x662F;&#x5426;&#x6709;AspNetCoreModuleV2, &#x82E5;&#x6CA1;&#x6709;, &#x5219;&#x9700;&#x8981;&#x4E0B;&#x8F7D;net core&#x8FD0;&#x884C;&#x65F6;(&#x6839;&#x636E;net core&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x7248;&#x672C;)
<a href="https://www.cnblogs.com/zhangmm96/p/12102015.html" target="_blank">https://www.cnblogs.com/zhangmm96/p/12102015.html</a>
<a href="https://blog.csdn.net/weixin_33770878/article/details/94745175" target="_blank">https://blog.csdn.net/weixin_33770878/article/details/94745175</a>
<a href="https://www.cnblogs.com/MrHSR/p/10276650.html" target="_blank">https://www.cnblogs.com/MrHSR/p/10276650.html</a></p>
<p>*&#x5F53;&#x53D1;&#x5E03;&#x540E;, &#x6587;&#x4EF6;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;web.config. &#x5728;web.config&#x4E2D;&#x8BBE;&#x7F6E; ASPNETCORE_ENVIRONMENT &#x73AF;&#x5883;&#x53D8;&#x91CF;. &#x4F7F;&#x7528; web.config &#x8BBE;&#x7F6E; ASPNETCORE_ENVIRONMENT &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x540E;, &#x5B83;&#x7684;&#x503C;&#x4F1A;&#x66FF;&#x4EE3;&#x7CFB;&#x7EDF;&#x7EA7;&#x8BBE;&#x7F6E;.</p>
<pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.<span class="token punctuation">&quot;</span></span> <span class="token attr-name">inheritInChildApplications</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.webServer</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>handlers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aspNetCore<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">verb</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">modules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AspNetCoreModuleV2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resourceType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Unspecified<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>handlers</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aspNetCore</span> <span class="token attr-name">processPath</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dotnet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">arguments</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.\ZhaoXiNetCoreDemo.dll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stdoutLogEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">stdoutLogFile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.\logs\stdout<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hostingModel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inprocess<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environmentVariables</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environmentVariable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ASPNETCORE_ENVIRONMENT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Development<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environmentVariables</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aspNetCore</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.webServer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<h1 id="4aspnet-core&#x89E3;&#x8BFB;launchsettingsjson"><a name="4aspnet-core&#x89E3;&#x8BFB;launchsettingsjson" class="anchor-navigation-ex-anchor" href="#4aspnet-core&#x89E3;&#x8BFB;launchsettingsjson"><i class="fa fa-link" aria-hidden="true"></i></a>4&gt;ASP.Net Core&#x89E3;&#x8BFB;launchSettings.json</h1>
<p><a href="https://www.cnblogs.com/qtiger/p/12958493.html" target="_blank">https://www.cnblogs.com/qtiger/p/12958493.html</a>
<em>&#x901A;&#x8FC7;&#x914D;&#x7F6E;ASPNETCORE_ENVIRONMENT&#x6765;&#x5B9E;&#x73B0;&#x591A;&#x73AF;&#x5883;&#x5207;&#x6362;, &#x7CFB;&#x7EDF;&#x5185;&#x7F6E;3&#x4E2A;&#x73AF;&#x5883;&#x540D;: Development&#xFF08;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF09;, Staging&#xFF08;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#xFF09;, Production&#xFF08;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#xFF09;, &#x73AF;&#x5883;&#x540D;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;.
&#x5982;&#x679C;&#x53D1;&#x5E03;&#x9879;&#x76EE;&#x672A;&#x8BBE;&#x7F6E; ASPNETCORE_ENVIRONMENT&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A; Production. (&#x672C;&#x673A;vs&#x4E2D;&#x9879;&#x76EE;Properties\launchSettings.json&#x4E2D;environmentVariables&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x7684;&#x662F;Development, &#x5982;&#x679C;&#x7981;&#x7528;environmentVariables, &#x90A3;&#x9ED8;&#x8BA4;&#x5219;&#x4E3A;Production).
</em>&#x591A;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x53EF;&#x53C2;&#x8003;&#x5B98;&#x7F51;
<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/environments?view=aspnetcore-3.1#environment-based-startup-class-and-methods" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/environments?view=aspnetcore-3.1#environment-based-startup-class-and-methods</a>
<a href="https://www.cnblogs.com/MrHSR/p/10276650.html" target="_blank">https://www.cnblogs.com/MrHSR/p/10276650.html</a>
<em>&#x5728;Startup&#x91CC;, Configure&#x540D;&#x5B57;&#x4E0D;&#x662F;&#x4E00;&#x5B9A;&#x7684;, &#x5982;&#x679C;&#x73AF;&#x5883;&#x662F;Development, &#x5219;Configure&#x53EF;&#x4EE5;&#x662F;ConfigureDevelopment, &#x5982;&#x679C;&#x6CA1;&#x6709;ConfigureDevelopment, &#x4E5F;&#x6CA1;&#x6709;Configure, &#x5219;&#x7CFB;&#x7EDF;&#x4F1A;&#x62A5;&#x9519;.
</em>&#x5F53; ASP.NET Core &#x5E94;&#x7528;&#x542F;&#x52A8;&#x65F6;, &#x4F1A;&#x542F;&#x52A8;Startup&#x7C7B;. &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x4E3A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;, &#x5355;&#x72EC;&#x5B9A;&#x4E49; Startup &#x7C7B;. &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4F8B;&#x5982;: StartupDevelopment, StartupProduction, Startup.
&#x5F53;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x4F1A;&#x9009;&#x62E9;&#x76F8;&#x5E94;&#x7684; Startup &#x7C7B;. &#x7A0B;&#x5E8F;&#x4F1A;&#x4F18;&#x5148;&#x8003;&#x8651;&#x540D;&#x79F0;&#x540E;&#x7F00;&#x4E0E;&#x5F53;&#x524D;&#x73AF;&#x5883;&#x76F8;&#x5339;&#x914D;&#x7684;&#x7C7B;. &#x5982;&#x679C;&#x662F;Developmen&#x73AF;&#x5883;&#x5219;&#x7A0B;&#x5E8F;&#x8FDB;&#x5165;StartupDevelopment, &#x5982;&#x679C;&#x662F;Production&#x73AF;&#x5883;&#x5219;&#x7A0B;&#x5E8F;&#x8FDB;&#x5165;StartupProduction.
&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x5339;&#x914D;&#x7684; Startup{EnvironmentName}, &#x5C31;&#x4F1A;&#x4F7F;&#x7528; Startup &#x7C7B;.</p>
<h1 id="5aspnet-core&#x4E2D;&#x95F4;&#x4EF6;startupconfigure"><a name="5aspnet-core&#x4E2D;&#x95F4;&#x4EF6;startupconfigure" class="anchor-navigation-ex-anchor" href="#5aspnet-core&#x4E2D;&#x95F4;&#x4EF6;startupconfigure"><i class="fa fa-link" aria-hidden="true"></i></a>5&gt;ASP.NET Core&#x4E2D;&#x95F4;&#x4EF6;(Startup.Configure)</h1>
<p><a href="https://www.cnblogs.com/whuanle/p/10095209.html" target="_blank">https://www.cnblogs.com/whuanle/p/10095209.html</a>
<a href="https://www.cnblogs.com/stulzq/p/7760648.html" target="_blank">https://www.cnblogs.com/stulzq/p/7760648.html</a>
<a href="https://www.cnblogs.com/JNLightGade/p/5737485.html" target="_blank">https://www.cnblogs.com/JNLightGade/p/5737485.html</a></p>
<h2 id="5-1&#x5E38;&#x89C1;&#x4E2D;&#x95F4;&#x4EF6;&#x987A;&#x5E8F;"><a name="5-1&#x5E38;&#x89C1;&#x4E2D;&#x95F4;&#x4EF6;&#x987A;&#x5E8F;" class="anchor-navigation-ex-anchor" href="#5-1&#x5E38;&#x89C1;&#x4E2D;&#x95F4;&#x4EF6;&#x987A;&#x5E8F;"><i class="fa fa-link" aria-hidden="true"></i></a>5-1&gt;&#x5E38;&#x89C1;&#x4E2D;&#x95F4;&#x4EF6;&#x987A;&#x5E8F;</h2>
<p>&#x5F02;&#x5E38;/&#x9519;&#x8BEF;&#x5904;&#x7406;
HTTP &#x4E25;&#x683C;&#x4F20;&#x8F93;&#x5B89;&#x5168;&#x534F;&#x8BAE;
HTTPS &#x91CD;&#x5B9A;&#x5411;
&#x9759;&#x6001;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;
Cookie &#x7B56;&#x7565;&#x5B9E;&#x65BD;
&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;
&#x4F1A;&#x8BDD;
MVC</p>
<h2 id="5-2http&#x7BA1;&#x9053;&#x5BB9;&#x5668;&#x7531;&#x4E09;&#x4E2A;&#x6269;&#x5C55;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x7531;&#x3001;&#x6302;&#x8F7D;&#x7B49;&#x7B49;&#xFF0C;&#x5206;&#x522B;&#x662F;run-use-map"><a name="5-2http&#x7BA1;&#x9053;&#x5BB9;&#x5668;&#x7531;&#x4E09;&#x4E2A;&#x6269;&#x5C55;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x7531;&#x3001;&#x6302;&#x8F7D;&#x7B49;&#x7B49;&#xFF0C;&#x5206;&#x522B;&#x662F;run-use-map" class="anchor-navigation-ex-anchor" href="#5-2http&#x7BA1;&#x9053;&#x5BB9;&#x5668;&#x7531;&#x4E09;&#x4E2A;&#x6269;&#x5C55;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x7531;&#x3001;&#x6302;&#x8F7D;&#x7B49;&#x7B49;&#xFF0C;&#x5206;&#x522B;&#x662F;run-use-map"><i class="fa fa-link" aria-hidden="true"></i></a>5-2&gt;HTTP&#x7BA1;&#x9053;&#x5BB9;&#x5668;&#x7531;&#x4E09;&#x4E2A;&#x6269;&#x5C55;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x8DEF;&#x7531;&#x3001;&#x6302;&#x8F7D;&#x7B49;&#x7B49;&#xFF0C;&#x5206;&#x522B;&#x662F;Run, Use, Map.</h2>
<h3 id="5-2-1run&#x65B9;&#x6CD5;&#x4F1A;&#x4F7F;&#x5F97;&#x53EF;&#x4EE5;&#x4F7F;&#x7BA1;&#x9053;&#x77ED;&#x8DEF;&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7BA1;&#x9053;&#x5411;&#x4E0B;&#x6267;&#x884C;-&#x4E0D;&#x4F1A;&#x8C03;&#x7528;next&#x59D4;&#x6258;-&#x6240;&#x4EE5;run&#x65B9;&#x6CD5;&#x6700;&#x597D;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x7684;&#x6700;&#x540E;&#x6765;&#x6267;&#x884C;&#x3002;"><a name="5-2-1run&#x65B9;&#x6CD5;&#x4F1A;&#x4F7F;&#x5F97;&#x53EF;&#x4EE5;&#x4F7F;&#x7BA1;&#x9053;&#x77ED;&#x8DEF;&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7BA1;&#x9053;&#x5411;&#x4E0B;&#x6267;&#x884C;-&#x4E0D;&#x4F1A;&#x8C03;&#x7528;next&#x59D4;&#x6258;-&#x6240;&#x4EE5;run&#x65B9;&#x6CD5;&#x6700;&#x597D;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x7684;&#x6700;&#x540E;&#x6765;&#x6267;&#x884C;&#x3002;" class="anchor-navigation-ex-anchor" href="#5-2-1run&#x65B9;&#x6CD5;&#x4F1A;&#x4F7F;&#x5F97;&#x53EF;&#x4EE5;&#x4F7F;&#x7BA1;&#x9053;&#x77ED;&#x8DEF;&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7BA1;&#x9053;&#x5411;&#x4E0B;&#x6267;&#x884C;-&#x4E0D;&#x4F1A;&#x8C03;&#x7528;next&#x59D4;&#x6258;-&#x6240;&#x4EE5;run&#x65B9;&#x6CD5;&#x6700;&#x597D;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x7684;&#x6700;&#x540E;&#x6765;&#x6267;&#x884C;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>5-2-1&gt;Run&#x65B9;&#x6CD5;&#x4F1A;&#x4F7F;&#x5F97;&#x53EF;&#x4EE5;&#x4F7F;&#x7BA1;&#x9053;&#x77ED;&#x8DEF;&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x7EC8;&#x7ED3;&#x7BA1;&#x9053;&#x5411;&#x4E0B;&#x6267;&#x884C;, &#x4E0D;&#x4F1A;&#x8C03;&#x7528;next()&#x59D4;&#x6258;, &#x6240;&#x4EE5;Run&#x65B9;&#x6CD5;&#x6700;&#x597D;&#x653E;&#x5728;&#x7BA1;&#x9053;&#x7684;&#x6700;&#x540E;&#x6765;&#x6267;&#x884C;&#x3002;</h3>
<p>*&#x5904;&#x7406;Response.WriteAsync()&#x4E2D;&#x6587;&#x4E71;&#x7801;
<a href="https://blog.csdn.net/lovestj/article/details/98731058" target="_blank">https://blog.csdn.net/lovestj/article/details/98731058</a></p>
<h3 id="5-2-2use&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x77ED;&#x8DEF;&#x6574;&#x4E2A;http&#x7BA1;&#x9053;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5FC5;&#x987B;&#x81EA;&#x884C;&#x8C03;&#x7528;await-nextinvoke-&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53BB;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;use&#x6B64;&#x65F6;&#x7684;&#x6548;&#x679C;&#x5176;&#x5B9E;&#x548C;run&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;"><a name="5-2-2use&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x77ED;&#x8DEF;&#x6574;&#x4E2A;http&#x7BA1;&#x9053;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5FC5;&#x987B;&#x81EA;&#x884C;&#x8C03;&#x7528;await-nextinvoke-&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53BB;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;use&#x6B64;&#x65F6;&#x7684;&#x6548;&#x679C;&#x5176;&#x5B9E;&#x548C;run&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;" class="anchor-navigation-ex-anchor" href="#5-2-2use&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x77ED;&#x8DEF;&#x6574;&#x4E2A;http&#x7BA1;&#x9053;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5FC5;&#x987B;&#x81EA;&#x884C;&#x8C03;&#x7528;await-nextinvoke-&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53BB;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;use&#x6B64;&#x65F6;&#x7684;&#x6548;&#x679C;&#x5176;&#x5B9E;&#x548C;run&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>5-2-2&gt;Use&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x77ED;&#x8DEF;&#x6574;&#x4E2A;HTTP&#x7BA1;&#x9053;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5FC5;&#x987B;&#x81EA;&#x884C;&#x8C03;&#x7528;await next.Invoke(); &#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53BB;&#x8C03;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;Use&#x6B64;&#x65F6;&#x7684;&#x6548;&#x679C;&#x5176;&#x5B9E;&#x548C;Run&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;</h3>
<p>UseWhen&#x662F;Use&#x7684;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#xFF0C;&#x5F53;&#x6EE1;&#x8DB3;&#x67D0;&#x4E2A;&#x6761;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6267;&#x884C;&#x67D0;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;&#x3002;</p>
<h3 id="5-2-3map&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x63D0;&#x4F9B;&#x7684;url&#x6765;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;"><a name="5-2-3map&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x63D0;&#x4F9B;&#x7684;url&#x6765;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#5-2-3map&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x63D0;&#x4F9B;&#x7684;url&#x6765;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>5-2-3&gt;Map&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x63D0;&#x4F9B;&#x7684;URL&#x6765;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;</h3>
<p>MapWhen&#x662F;Map&#x7684;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#x7684;&#x6269;&#x5C55;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B83;&#x6765;&#x5224;&#x65AD;&#x67D0;&#x4E2A;&#x6761;&#x4EF6;&#x9002;&#x5408;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6267;&#x884C;&#x67D0;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;(*&#x901A;&#x59D1;demo&#x53D1;&#x73B0;, usewhen&#x548C;mapwhen&#x7684;&#x6548;&#x679C;&#x4E00;&#x6837;)</p>
<h2 id="5-3&#x5185;&#x7F6E;&#x4E2D;&#x95F4;&#x4EF6;"><a name="5-3&#x5185;&#x7F6E;&#x4E2D;&#x95F4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#5-3&#x5185;&#x7F6E;&#x4E2D;&#x95F4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>5-3&gt;&#x5185;&#x7F6E;&#x4E2D;&#x95F4;&#x4EF6;</h2>
<p>Authentication    &#x63D0;&#x4F9B;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x652F;&#x6301;
CORS    &#x914D;&#x7F6E;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;
Response Caching    &#x63D0;&#x4F9B;&#x7F13;&#x5B58;&#x54CD;&#x5E94;&#x652F;&#x6301;
Response Compression    &#x63D0;&#x4F9B;&#x54CD;&#x5E94;&#x538B;&#x7F29;&#x652F;&#x6301;
Routing    &#x5B9A;&#x4E49;&#x548C;&#x7EA6;&#x675F;&#x8BF7;&#x6C42;&#x8DEF;&#x7531;
Session    &#x63D0;&#x4F9B;&#x7528;&#x6237;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;
Static Files    &#x4E3A;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x6D4F;&#x89C8;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x652F;&#x6301;
URL Rewriting Middleware    &#x7528;&#x4E8E;&#x91CD;&#x5199; Url&#xFF0C;&#x5E76;&#x5C06;&#x8BF7;&#x6C42;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x652F;&#x6301;</p>
<h2 id="5-4&#x6784;&#x5EFA;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6D41;&#x7A0B;&#x53C2;&#x8003;httpswwwcnblogscomstulzqp7760648html"><a name="5-4&#x6784;&#x5EFA;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6D41;&#x7A0B;&#x53C2;&#x8003;httpswwwcnblogscomstulzqp7760648html" class="anchor-navigation-ex-anchor" href="#5-4&#x6784;&#x5EFA;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6D41;&#x7A0B;&#x53C2;&#x8003;httpswwwcnblogscomstulzqp7760648html"><i class="fa fa-link" aria-hidden="true"></i></a>5-4&gt;&#x6784;&#x5EFA;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6D41;&#x7A0B;&#x53C2;&#x8003;<a href="https://www.cnblogs.com/stulzq/p/7760648.html" target="_blank">https://www.cnblogs.com/stulzq/p/7760648.html</a></h2>
<pre class="language-"><code class="lang-C#">public class MyMiddleware
{
    private readonly RequestDelegate _next;

    public MyMiddleware(RequestDelegate next)
    {
        _next = next;
    }

    public async Task Invoke(HttpContext httpContext)
    {
        await _next(httpContext);
    }
}

public static class MyMiddlewareExtensions
{
    public static IApplicationBuilder UseRequestCulture(
        this IApplicationBuilder builder)
    {
        return builder.UseMiddleware<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyMiddleware</span><span class="token punctuation">&gt;</span></span>();
    }
}
</code></pre>
<p>&#x6700;&#x540E;&#x5728;Startup.Configure</p>
<pre class="language-"><code class="lang-C#">app.UseRequestCulture();
</code></pre>
<h2 id="5-5&#x56E0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x671F;&#x95F4;&#xFF0C;&#x4E2D;&#x95F4;&#x4EF6;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x751F;&#x547D;&#x5468;&#x671F;&#x670D;&#x52A1;&#x4E0D;&#x4F1A;&#x4E0E;&#x5176;&#x4ED6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7C7B;&#x578B;&#x5171;&#x4EAB;&#x3002;"><a name="5-5&#x56E0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x671F;&#x95F4;&#xFF0C;&#x4E2D;&#x95F4;&#x4EF6;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x751F;&#x547D;&#x5468;&#x671F;&#x670D;&#x52A1;&#x4E0D;&#x4F1A;&#x4E0E;&#x5176;&#x4ED6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7C7B;&#x578B;&#x5171;&#x4EAB;&#x3002;" class="anchor-navigation-ex-anchor" href="#5-5&#x56E0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x671F;&#x95F4;&#xFF0C;&#x4E2D;&#x95F4;&#x4EF6;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x751F;&#x547D;&#x5468;&#x671F;&#x670D;&#x52A1;&#x4E0D;&#x4F1A;&#x4E0E;&#x5176;&#x4ED6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7C7B;&#x578B;&#x5171;&#x4EAB;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>*5-5&gt;&#x56E0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x671F;&#x95F4;&#xFF0C;&#x4E2D;&#x95F4;&#x4EF6;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F7F;&#x7528;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x751F;&#x547D;&#x5468;&#x671F;&#x670D;&#x52A1;&#x4E0D;&#x4F1A;&#x4E0E;&#x5176;&#x4ED6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7C7B;&#x578B;&#x5171;&#x4EAB;&#x3002;</h2>
<p>&#x5982;&#x679C;&#x60A8;&#x5FC5;&#x987B;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x548C;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x4F5C;&#x7528;&#x57DF;&#x670D;&#x52A1;&#xFF0C;&#x8BF7;&#x5C06;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x6DFB;&#x52A0;&#x5230;Invoke&#x65B9;&#x6CD5;&#x7684;&#x7B7E;&#x540D;&#x4E2D;&#x3002; Invoke&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x7531;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x586B;&#x5145;&#x7684;&#x5176;&#x4ED6;&#x53C2;&#x6570;&#x3002;
&#x4F8B;&#x5982;&#x4E0A;&#x9762;&#x7684;Invoke&#xFF0C;&#x6539;&#x6210;&#x5982;&#x4E0B;</p>
<pre class="language-"><code class="lang-C#">public async Task Invoke(HttpContext httpContext, IMyScopedService svc)
{
    svc.MyProperty = 1000;
    await _next(httpContext);
}
</code></pre>
<p>&#x6216;&#x8005;</p>
<pre class="language-"><code class="lang-C#">public class RequestLoggerMiddleware
{
    private readonly RequestDelegate _next;
    private readonly ILogger _logger;

public RequestLoggerMiddleware(RequestDelegate next, ILoggerFactory loggerFactory)
{
    _next = next;
    _logger = loggerFactory.CreateLogger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RequestLoggerMiddleware</span><span class="token punctuation">&gt;</span></span>();
}

public async Task Invoke(HttpContext context)
{
    _logger.LogInformation(&quot;Handling request: &quot; + context.Request.Path);
    await _next.Invoke(context);
    _logger.LogInformation(&quot;Finished handling request.&quot;);
}

}
public static class RequestLoggerExtensions
{
    public static IApplicationBuilder UseRequestLogger(this IApplicationBuilder builder)
    {
        return builder.UseMiddleware<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RequestLoggerMiddleware</span><span class="token punctuation">&gt;</span></span>();
    }
}
</code></pre>
<p>&#x6700;&#x540E;&#x5728;Startup.Configure</p>
<pre class="language-"><code class="lang-c#">app.UseRequestLogger();
</code></pre>
<h2 id="5-6&#x82E5;&#x8981;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x5185;&#x83B7;&#x53D6;&#x63A7;&#x5236;&#x5668;&#x540D;&#x79F0;&#x548C;&#x52A8;&#x4F5C;&#x540D;&#x7B49;&#x4FE1;&#x606F;-&#x9700;&#x8981;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x653E;&#x5728;appuserouting&#x540E;-&#x53EF;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;"><a name="5-6&#x82E5;&#x8981;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x5185;&#x83B7;&#x53D6;&#x63A7;&#x5236;&#x5668;&#x540D;&#x79F0;&#x548C;&#x52A8;&#x4F5C;&#x540D;&#x7B49;&#x4FE1;&#x606F;-&#x9700;&#x8981;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x653E;&#x5728;appuserouting&#x540E;-&#x53EF;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;" class="anchor-navigation-ex-anchor" href="#5-6&#x82E5;&#x8981;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x5185;&#x83B7;&#x53D6;&#x63A7;&#x5236;&#x5668;&#x540D;&#x79F0;&#x548C;&#x52A8;&#x4F5C;&#x540D;&#x7B49;&#x4FE1;&#x606F;-&#x9700;&#x8981;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x653E;&#x5728;appuserouting&#x540E;-&#x53EF;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;"><i class="fa fa-link" aria-hidden="true"></i></a>*5-6&gt;&#x82E5;&#x8981;&#x5728;&#x4E2D;&#x95F4;&#x4EF6;&#x5185;&#x83B7;&#x53D6;&#x63A7;&#x5236;&#x5668;&#x540D;&#x79F0;&#x548C;&#x52A8;&#x4F5C;&#x540D;&#x7B49;&#x4FE1;&#x606F;, &#x9700;&#x8981;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x653E;&#x5728;app.UseRouting()&#x540E;, &#x53EF;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;.</h2>
<p><a href="https://q.cnblogs.com/q/116803/" target="_blank">https://q.cnblogs.com/q/116803/</a></p>
<h2 id="5-7&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x4E8E;istartupfilter&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x53C2;&#x8003;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsstartupviewaspnetcore-31"><a name="5-7&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x4E8E;istartupfilter&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x53C2;&#x8003;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsstartupviewaspnetcore-31" class="anchor-navigation-ex-anchor" href="#5-7&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x4E8E;istartupfilter&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x53C2;&#x8003;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsstartupviewaspnetcore-31"><i class="fa fa-link" aria-hidden="true"></i></a>*5-7&gt;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x4E8E;IStartupFilter&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x53C2;&#x8003;<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/startup?view=aspnetcore-3.1" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/startup?view=aspnetcore-3.1</a></h2>
<h1 id="6aspnet-core-configureservices"><a name="6aspnet-core-configureservices" class="anchor-navigation-ex-anchor" href="#6aspnet-core-configureservices"><i class="fa fa-link" aria-hidden="true"></i></a>6&gt;ASP.NET Core ConfigureServices</h1>
<p><a href="https://www.cnblogs.com/artech/p/dependency-injection-in-asp-net-core.html" target="_blank">https://www.cnblogs.com/artech/p/dependency-injection-in-asp-net-core.html</a>
<a href="https://www.cnblogs.com/dotNETCoreSG/p/aspnetcore-3_1-application-startup.html" target="_blank">https://www.cnblogs.com/dotNETCoreSG/p/aspnetcore-3_1-application-startup.html</a>
<a href="https://blog.csdn.net/weixin_30604651/article/details/98671957" target="_blank">https://blog.csdn.net/weixin_30604651/article/details/98671957</a></p>
<h2 id="6-1&#x62D3;&#x5C55;&#x77E5;&#x8BC6;"><a name="6-1&#x62D3;&#x5C55;&#x77E5;&#x8BC6;" class="anchor-navigation-ex-anchor" href="#6-1&#x62D3;&#x5C55;&#x77E5;&#x8BC6;"><i class="fa fa-link" aria-hidden="true"></i></a>6-1&gt;&#x62D3;&#x5C55;&#x77E5;&#x8BC6;</h2>
<p>ASP.NET Core&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;1&#xFF09;&#xFF1A;&#x63A7;&#x5236;&#x53CD;&#x8F6C;&#xFF08;IoC&#xFF09;(<a href="https://www.cnblogs.com/artech/p/asp-net-core-di-ioc.html" target="_blank">https://www.cnblogs.com/artech/p/asp-net-core-di-ioc.html</a>)
ASP.NET Core&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;2&#xFF09;&#xFF1A;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;DI&#xFF09;(<a href="https://www.cnblogs.com/artech/p/asp-net-core-di-di.html" target="_blank">https://www.cnblogs.com/artech/p/asp-net-core-di-di.html</a>)
ASP.NET Core&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;3&#xFF09;: &#x670D;&#x52A1;&#x7684;&#x6CE8;&#x518C;&#x4E0E;&#x63D0;&#x4F9B;(<a href="https://www.cnblogs.com/artech/p/asp-net-core-di-register.html" target="_blank">https://www.cnblogs.com/artech/p/asp-net-core-di-register.html</a>)
ASP.NET Core&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;4&#xFF09;: &#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x9009;&#x62E9;&#x4E0E;&#x670D;&#x52A1;&#x751F;&#x547D;&#x5468;&#x671F;&#x7BA1;&#x7406;(<a href="https://www.cnblogs.com/artech/p/asp-net-core-di-life-time.html" target="_blank">https://www.cnblogs.com/artech/p/asp-net-core-di-life-time.html</a>)
ASP.NET Core&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;5&#xFF09;&#xFF1A;ServicePrvider&#x5B9E;&#x73B0;&#x63ED;&#x79D8;&#x3010;&#x603B;&#x4F53;&#x8BBE;&#x8BA1;&#x3011;(<a href="http://www.cnblogs.com/artech/p/asp-net-core-di-service-provider-1.html" target="_blank">http://www.cnblogs.com/artech/p/asp-net-core-di-service-provider-1.html</a>)
ASP.NET Core&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;5&#xFF09;&#xFF1A;ServicePrvider&#x5B9E;&#x73B0;&#x63ED;&#x79D8;&#x3010;&#x89E3;&#x8BFB;ServiceCallSite&#x3011;(<a href="http://www.cnblogs.com/artech/p/asp-net-core-di-service-provider-2.html" target="_blank">http://www.cnblogs.com/artech/p/asp-net-core-di-service-provider-2.html</a>)
ASP.NET Core&#x4E2D;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;5&#xFF09;&#xFF1A;ServicePrvider&#x5B9E;&#x73B0;&#x63ED;&#x79D8;&#x3010;&#x8865;&#x5145;&#x6F0F;&#x6389;&#x7684;&#x7EC6;&#x8282;&#x3011;(<a href="http://www.cnblogs.com/artech/p/asp-net-core-di-service-provider-3.html" target="_blank">http://www.cnblogs.com/artech/p/asp-net-core-di-service-provider-3.html</a>)</p>
<h2 id="6-2configureservices&#x5141;&#x8BB8;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;serviceprovider&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7684;&#x91CD;&#x8981;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#x5B83;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E0E;&#x7B2C;&#x4E09;&#x65B9;di&#x6846;&#x67B6;&#xFF08;&#x6BD4;&#x5982;unity&#x3001;castle&#x3001;ninject&#x548C;autofac&#x7B49;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x3002;"><a name="6-2configureservices&#x5141;&#x8BB8;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;serviceprovider&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7684;&#x91CD;&#x8981;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#x5B83;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E0E;&#x7B2C;&#x4E09;&#x65B9;di&#x6846;&#x67B6;&#xFF08;&#x6BD4;&#x5982;unity&#x3001;castle&#x3001;ninject&#x548C;autofac&#x7B49;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x3002;" class="anchor-navigation-ex-anchor" href="#6-2configureservices&#x5141;&#x8BB8;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;serviceprovider&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7684;&#x91CD;&#x8981;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#x5B83;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E0E;&#x7B2C;&#x4E09;&#x65B9;di&#x6846;&#x67B6;&#xFF08;&#x6BD4;&#x5982;unity&#x3001;castle&#x3001;ninject&#x548C;autofac&#x7B49;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>6-2&gt;ConfigureServices&#x5141;&#x8BB8;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;ServiceProvider&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7684;&#x91CD;&#x8981;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#x5B83;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E0E;&#x7B2C;&#x4E09;&#x65B9;DI&#x6846;&#x67B6;&#xFF08;&#x6BD4;&#x5982;Unity&#x3001;Castle&#x3001;Ninject&#x548C;AutoFac&#x7B49;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x3002;</h2>
<p>*3.X &#x5F15;&#x5165;autofac&#x7B2C;&#x4E09;&#x65B9;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x6846;&#x67B6;
<a href="https://www.cnblogs.com/oec2003/p/13069058.html" target="_blank">https://www.cnblogs.com/oec2003/p/13069058.html</a>
<a href="https://www.cnblogs.com/diwu0510/p/11562248.html" target="_blank">https://www.cnblogs.com/diwu0510/p/11562248.html</a>
<a href="https://www.cnblogs.com/ingstyle/p/11836157.html" target="_blank">https://www.cnblogs.com/ingstyle/p/11836157.html</a>
<a href="https://www.cnblogs.com/zxtceq/p/14156142.html" target="_blank">https://www.cnblogs.com/zxtceq/p/14156142.html</a></p>
<p>&#x6B65;&#x9AA4;&#xFF1A;</p>
<h3 id="6-2-1&#x5F15;&#x5165;nuget&#x5305;-autofac-autofacextensionsdependencyinjection-autofacextrasdynamicproxy"><a name="6-2-1&#x5F15;&#x5165;nuget&#x5305;-autofac-autofacextensionsdependencyinjection-autofacextrasdynamicproxy" class="anchor-navigation-ex-anchor" href="#6-2-1&#x5F15;&#x5165;nuget&#x5305;-autofac-autofacextensionsdependencyinjection-autofacextrasdynamicproxy"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-1&gt;&#x5F15;&#x5165;Nuget&#x5305;, Autofac, Autofac.Extensions.DependencyInjection, Autofac.Extras.DynamicProxy</h3>
<h3 id="6-2-2&#x4FEE;&#x6539;programcs-&#x52A0;&#x5165;-useserviceproviderfactorynew-autofacserviceproviderfactory"><a name="6-2-2&#x4FEE;&#x6539;programcs-&#x52A0;&#x5165;-useserviceproviderfactorynew-autofacserviceproviderfactory" class="anchor-navigation-ex-anchor" href="#6-2-2&#x4FEE;&#x6539;programcs-&#x52A0;&#x5165;-useserviceproviderfactorynew-autofacserviceproviderfactory"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-2&gt;&#x4FEE;&#x6539;Program.cs, &#x52A0;&#x5165; .UseServiceProviderFactory(new AutofacServiceProviderFactory())</h3>
<h3 id="6-2-3&#x4FEE;&#x6539;startup-&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;-configurecontainer"><a name="6-2-3&#x4FEE;&#x6539;startup-&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;-configurecontainer" class="anchor-navigation-ex-anchor" href="#6-2-3&#x4FEE;&#x6539;startup-&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;-configurecontainer"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-3&gt;&#x4FEE;&#x6539;Startup, &#x6DFB;&#x52A0;&#x65B9;&#x6CD5; ConfigureContainer</h3>
<pre class="language-"><code class="lang-c#">public void ConfigureContainer(ContainerBuilder builder)
{
    //&#x6CE8;&#x518C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x6A21;&#x5757;
    builder.RegisterModule
    (
        new AutofacModuleRegister
        (
            FramePublicFun.GetDllPath(),
            new List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>
            {
                &quot;Dylan.FrameWork.dll&quot;
            },
            true,
            typeof(Program)
        )
    );
}
</code></pre>
<h3 id="6-2-4&#x914D;&#x7F6E;controller&#x5168;&#x90E8;&#x7531;autofac&#x521B;&#x5EFA;&#x82E5;&#x4E0D;&#x914D;&#x7F6E;&#xFF0C;&#x5219;controller&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7531;&#x539F;&#x672C;&#x7684;&#x6846;&#x67B6;&#x5B9E;&#x73B0;"><a name="6-2-4&#x914D;&#x7F6E;controller&#x5168;&#x90E8;&#x7531;autofac&#x521B;&#x5EFA;&#x82E5;&#x4E0D;&#x914D;&#x7F6E;&#xFF0C;&#x5219;controller&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7531;&#x539F;&#x672C;&#x7684;&#x6846;&#x67B6;&#x5B9E;&#x73B0;" class="anchor-navigation-ex-anchor" href="#6-2-4&#x914D;&#x7F6E;controller&#x5168;&#x90E8;&#x7531;autofac&#x521B;&#x5EFA;&#x82E5;&#x4E0D;&#x914D;&#x7F6E;&#xFF0C;&#x5219;controller&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7531;&#x539F;&#x672C;&#x7684;&#x6846;&#x67B6;&#x5B9E;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-4&gt;&#x914D;&#x7F6E;Controller&#x5168;&#x90E8;&#x7531;Autofac&#x521B;&#x5EFA;(&#x82E5;&#x4E0D;&#x914D;&#x7F6E;&#xFF0C;&#x5219;Controller&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7531;&#x539F;&#x672C;&#x7684;&#x6846;&#x67B6;&#x5B9E;&#x73B0;)</h3>
<p>&#x5728;Startup.ConfigureServices&#x4E2D;&#x914D;&#x7F6E; services.AddControllersWithViews().AddControllersAsServices();
&#x5E76;&#x5728;ConfigureContainer&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x63A7;&#x5236;&#x5668;&#x7684;&#x5C5E;&#x6027;&#x6CE8;&#x5165;(&#x4E5F;&#x53EF;&#x4EE5;&#x5C01;&#x88C5;&#x5230;&#x6279;&#x91CF;&#x6CE8;&#x518C;&#x7684;Load&#x51FD;&#x6570;&#x5185;)</p>
<pre class="language-"><code class="lang-C#">var controllerBaseType = typeof(ControllerBase);
builder.RegisterAssemblyTypes(typeof(Program).Assembly)
    .Where(t =&gt; controllerBaseType.IsAssignableFrom(t) &amp;&amp; t != controllerBaseType)
    .PropertiesAutowired();
</code></pre>
<h3 id="6-2-5&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x4F7F;&#x7528;autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;"><a name="6-2-5&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x4F7F;&#x7528;autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;" class="anchor-navigation-ex-anchor" href="#6-2-5&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x4F7F;&#x7528;autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-5&gt;&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x4F7F;&#x7528;Autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;</h3>
<p><em>&#x53EF;&#x4EE5;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5BF9;&#x8C61;
</em>&#x5728;Action&#x53EF;&#x4EE5;&#x901A;&#x8FC7;[FromServices]&#x53C2;&#x6570;&#xFF0C;&#x6765;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5BF9;&#x8C61;
*&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x6CE8;&#x5165;&#xFF0C;&#x5C5E;&#x6027;&#x4E00;&#x5B9A;&#x8981;&#x4E3A;public</p>
<pre class="language-"><code class="lang-C#">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// &#x5C5E;&#x6027;&#x6CE8;&#x5165;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
public ITestClass TestClassP
{
    get; set;
}
</code></pre>
<h3 id="6-2-6&#x5728;&#x5176;&#x4ED6;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x4EE5;&#x53CA;&#x5C5E;&#x6027;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x5C5E;&#x6027;&#x4F9D;&#x8D56;&#x6CE8;&#x89C4;&#x5219;&#x4E0E;&#x63A7;&#x5236;&#x5668;&#x76F8;&#x540C;&#x3002;"><a name="6-2-6&#x5728;&#x5176;&#x4ED6;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x4EE5;&#x53CA;&#x5C5E;&#x6027;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x5C5E;&#x6027;&#x4F9D;&#x8D56;&#x6CE8;&#x89C4;&#x5219;&#x4E0E;&#x63A7;&#x5236;&#x5668;&#x76F8;&#x540C;&#x3002;" class="anchor-navigation-ex-anchor" href="#6-2-6&#x5728;&#x5176;&#x4ED6;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x4EE5;&#x53CA;&#x5C5E;&#x6027;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x5C5E;&#x6027;&#x4F9D;&#x8D56;&#x6CE8;&#x89C4;&#x5219;&#x4E0E;&#x63A7;&#x5236;&#x5668;&#x76F8;&#x540C;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-6&gt;&#x5728;&#x5176;&#x4ED6;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x53EF;&#x662F;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x4EE5;&#x53CA;&#x5C5E;&#x6027;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x5C5E;&#x6027;&#x4F9D;&#x8D56;&#x6CE8;&#x89C4;&#x5219;&#x4E0E;&#x63A7;&#x5236;&#x5668;&#x76F8;&#x540C;&#x3002;</h3>
<h3 id="6-2-7&#x8BBE;&#x7F6E;&#x5168;&#x5C40;autofaccontainer"><a name="6-2-7&#x8BBE;&#x7F6E;&#x5168;&#x5C40;autofaccontainer" class="anchor-navigation-ex-anchor" href="#6-2-7&#x8BBE;&#x7F6E;&#x5168;&#x5C40;autofaccontainer"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-7&gt;&#x8BBE;&#x7F6E;&#x5168;&#x5C40;AutofacContainer</h3>
<p><a href="https://blog.csdn.net/sammy520/article/details/114417763" target="_blank">https://blog.csdn.net/sammy520/article/details/114417763</a></p>
<h3 id="6-2-8&#x9762;&#x5411;aop&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x62E6;&#x622A;-&#x62E6;&#x622A;&#x5668;&#x6CE8;&#x518C;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;&#x578B;&#x4E4B;&#x524D;-&#x5728;&#x63A5;&#x53E3;&#x4E0A;&#x6DFB;&#x52A0;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x8FDB;&#x5165;&#x62E6;&#x622A;&#x5668;&#x3002;"><a name="6-2-8&#x9762;&#x5411;aop&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x62E6;&#x622A;-&#x62E6;&#x622A;&#x5668;&#x6CE8;&#x518C;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;&#x578B;&#x4E4B;&#x524D;-&#x5728;&#x63A5;&#x53E3;&#x4E0A;&#x6DFB;&#x52A0;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x8FDB;&#x5165;&#x62E6;&#x622A;&#x5668;&#x3002;" class="anchor-navigation-ex-anchor" href="#6-2-8&#x9762;&#x5411;aop&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x62E6;&#x622A;-&#x62E6;&#x622A;&#x5668;&#x6CE8;&#x518C;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;&#x578B;&#x4E4B;&#x524D;-&#x5728;&#x63A5;&#x53E3;&#x4E0A;&#x6DFB;&#x52A0;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x8FDB;&#x5165;&#x62E6;&#x622A;&#x5668;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-8&gt;&#x9762;&#x5411;AOP&#xFF0C;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x62E6;&#x622A;, &#x62E6;&#x622A;&#x5668;&#x6CE8;&#x518C;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;&#x578B;&#x4E4B;&#x524D;, &#x5728;&#x63A5;&#x53E3;&#x4E0A;&#x6DFB;&#x52A0;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x8FDB;&#x5165;&#x62E6;&#x622A;&#x5668;&#x3002;</h3>
<p>*&#x63A7;&#x5236;&#x5668;&#x614E;&#x7528;AOP&#xFF0C;&#x5BB9;&#x6613;&#x62A5;&#x9519;&#xFF0C;&#x66F4;&#x5EFA;&#x8BAE;&#x7528;&#x6846;&#x67B6;&#x81EA;&#x5E26;&#x7684;filter&#x7279;&#x6027;</p>
<h3 id="6-2-9iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x7684;autofaccontainer&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x3002;"><a name="6-2-9iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x7684;autofaccontainer&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x3002;" class="anchor-navigation-ex-anchor" href="#6-2-9iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x7684;autofaccontainer&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;iserviceprovider&#x548C;icomponentcontext&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-9&gt;IServiceProvider&#x548C;IComponentContext&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x662F;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x7684;AutofacContainer&#x83B7;&#x53D6;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;IServiceProvider&#x548C;IComponentContext&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x3002;</h3>
<h3 id="6-2-10&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x4E2A;&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;"><a name="6-2-10&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x4E2A;&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;" class="anchor-navigation-ex-anchor" href="#6-2-10&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x4E2A;&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-10&gt;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x591A;&#x4E2A;&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x53C2;&#x8003;&#x4E0B;&#x9762;&#x6587;&#x7AE0;</h3>
<p><a href="https://www.cnblogs.com/netcs/p/12889834.html" target="_blank">https://www.cnblogs.com/netcs/p/12889834.html</a></p>
<h3 id="6-2-11autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;json&#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B9E;&#x73B0;&#xFF0C;&#x53C2;&#x8003;httpswwwlimitcodecomdetail5f1406baed56b80fe4cc1d0ahtml"><a name="6-2-11autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;json&#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B9E;&#x73B0;&#xFF0C;&#x53C2;&#x8003;httpswwwlimitcodecomdetail5f1406baed56b80fe4cc1d0ahtml" class="anchor-navigation-ex-anchor" href="#6-2-11autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;json&#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B9E;&#x73B0;&#xFF0C;&#x53C2;&#x8003;httpswwwlimitcodecomdetail5f1406baed56b80fe4cc1d0ahtml"><i class="fa fa-link" aria-hidden="true"></i></a>6-2-11&gt;Autofac&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;json&#x683C;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B9E;&#x73B0;&#xFF0C;&#x53C2;&#x8003;<a href="https://www.limitcode.com/detail/5f1406baed56b80fe4cc1d0a.html" target="_blank">https://www.limitcode.com/detail/5f1406baed56b80fe4cc1d0a.html</a></h3>
<pre class="language-"><code class="lang-C#">{
  &quot;defaultAssembly&quot;: &quot;AspNetCore.Ioc.Interface&quot;, //&#x63A5;&#x53E3;&#x6240;&#x5728;&#x7684;&#x7A0B;&#x5E8F;&#x96C6;&#x540D;&#x79F0;
  &quot;components&quot;: [
    {
      &quot;type&quot;: &quot;AspNetCore.Ioc.Service.UserService,AspNetCore.Ioc.Service&quot;, //&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0; &#x5168;&#x540D;&#x79F0;
      &quot;services&quot;: [
        {
          &quot;type&quot;: &quot;AspNetCore.Ioc.Interface.IUserService&quot; // &#x63A5;&#x53E3;&#x7684;&#x5168;&#x540D;&#x79F0;
        }
      ],
      &quot;instanceScope&quot;: &quot;single-instance&quot;, //&#x5355;&#x4F8B;&#x751F;&#x547D;&#x5468;&#x671F;
      &quot;injectProperties&quot;: true //&#x662F;&#x5426;&#x652F;&#x6301;&#x5C5E;&#x6027;&#x6CE8;&#x5165;
    },
    {
      &quot;type&quot;: &quot;AspNetCore.Ioc.Service.ProductService,AspNetCore.Ioc.Service&quot;, //&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0; &#x5168;&#x540D;&#x79F0;
      &quot;services&quot;: [
        {
          &quot;type&quot;: &quot;AspNetCore.Ioc.Interface.IProductService&quot; // &#x63A5;&#x53E3;&#x7684;&#x5168;&#x540D;&#x79F0;
        }
      ],
      &quot;instanceScope&quot;: &quot;single-instance&quot;, //&#x5355;&#x4F8B;&#x751F;&#x547D;&#x5468;&#x671F;
      &quot;injectProperties&quot;: true //&#x662F;&#x5426;&#x652F;&#x6301;&#x5C5E;&#x6027;&#x6CE8;&#x5165;
    }
  ]
}
protected override void Load(ContainerBuilder builder)
{
    //Autofac &#x57FA;&#x4E8E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;
    IConfigurationBuilder configurationBuilder = new ConfigurationBuilder();
    configurationBuilder.AddJsonFile(&quot;Config/autofac.json&quot;);
    IConfigurationRoot root = configurationBuilder.Build();
    //&#x5F00;&#x59CB;&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5185;&#x5BB9;
    ConfigurationModule module = new ConfigurationModule(root);
    //&#x6839;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x6CE8;&#x518C;&#x670D;&#x52A1;
    builder.RegisterModule(module);
}
</code></pre>
<h1 id="7&#x4E3B;&#x673A;"><a name="7&#x4E3B;&#x673A;" class="anchor-navigation-ex-anchor" href="#7&#x4E3B;&#x673A;"><i class="fa fa-link" aria-hidden="true"></i></a>7&gt;&#x4E3B;&#x673A;</h1>
<h2 id="7-1&#x901A;&#x7528;&#x4E3B;&#x673A;&#x53EF;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x7B49;&#x7A0B;&#x5E8F;-&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x914D;&#x7F6E;-&#x65E5;&#x5FD7;&#x7B49;&#x529F;&#x80FD;"><a name="7-1&#x901A;&#x7528;&#x4E3B;&#x673A;&#x53EF;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x7B49;&#x7A0B;&#x5E8F;-&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x914D;&#x7F6E;-&#x65E5;&#x5FD7;&#x7B49;&#x529F;&#x80FD;" class="anchor-navigation-ex-anchor" href="#7-1&#x901A;&#x7528;&#x4E3B;&#x673A;&#x53EF;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x7B49;&#x7A0B;&#x5E8F;-&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;-&#x914D;&#x7F6E;-&#x65E5;&#x5FD7;&#x7B49;&#x529F;&#x80FD;"><i class="fa fa-link" aria-hidden="true"></i></a>7-1&gt;&#x901A;&#x7528;&#x4E3B;&#x673A;(&#x53EF;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x7B49;&#x7A0B;&#x5E8F;, &#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x914D;&#x7F6E;, &#x65E5;&#x5FD7;&#x7B49;&#x529F;&#x80FD;)</h2>
<h3 id="7-1-1&#x53C2;&#x8003;"><a name="7-1-1&#x53C2;&#x8003;" class="anchor-navigation-ex-anchor" href="#7-1-1&#x53C2;&#x8003;"><i class="fa fa-link" aria-hidden="true"></i></a>7-1-1&gt;&#x53C2;&#x8003;</h3>
<p><a href="https://www.cnblogs.com/hopesun/p/12247674.html" target="_blank">https://www.cnblogs.com/hopesun/p/12247674.html</a>
<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1</a>
<a href="https://www.cnblogs.com/jionsoft/p/12154519.html" target="_blank">https://www.cnblogs.com/jionsoft/p/12154519.html</a>
<a href="https://www.cnblogs.com/jionsoft/p/12164480.html" target="_blank">https://www.cnblogs.com/jionsoft/p/12164480.html</a>
<a href="https://www.cnblogs.com/edison0621/p/11025310.html" target="_blank">https://www.cnblogs.com/edison0621/p/11025310.html</a>
*<a href="https://www.cnblogs.com/MrHSR/p/10320694.html" target="_blank">https://www.cnblogs.com/MrHSR/p/10320694.html</a>
<a href="https://www.cnblogs.com/zuowj/p/11107243.html" target="_blank">https://www.cnblogs.com/zuowj/p/11107243.html</a></p>
<h3 id="7-1-2netcore&#x4E2D;&#x7684;ihostedservice"><a name="7-1-2netcore&#x4E2D;&#x7684;ihostedservice" class="anchor-navigation-ex-anchor" href="#7-1-2netcore&#x4E2D;&#x7684;ihostedservice"><i class="fa fa-link" aria-hidden="true"></i></a>7-1-2&gt;.NetCore&#x4E2D;&#x7684;IHostedService</h3>
<p><a href="https://www.cnblogs.com/uoyo/p/12377645.html" target="_blank">https://www.cnblogs.com/uoyo/p/12377645.html</a>
<a href="https://www.cnblogs.com/catcher1994/p/9961228.html" target="_blank">https://www.cnblogs.com/catcher1994/p/9961228.html</a>
<a href="https://www.cnblogs.com/tianyamoon/p/10094802.html" target="_blank">https://www.cnblogs.com/tianyamoon/p/10094802.html</a></p>
<h3 id="7-1-3&#x4EE5;&#x4E0B;demo&#x5B9E;&#x73B0;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x4E3B;&#x673A;&#x4F18;&#x96C5;&#x5199;&#x6CD5;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5B9A;&#x65F6;&#x529F;&#x80FD;&#x3002;"><a name="7-1-3&#x4EE5;&#x4E0B;demo&#x5B9E;&#x73B0;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x4E3B;&#x673A;&#x4F18;&#x96C5;&#x5199;&#x6CD5;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5B9A;&#x65F6;&#x529F;&#x80FD;&#x3002;" class="anchor-navigation-ex-anchor" href="#7-1-3&#x4EE5;&#x4E0B;demo&#x5B9E;&#x73B0;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x4E3B;&#x673A;&#x4F18;&#x96C5;&#x5199;&#x6CD5;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5B9A;&#x65F6;&#x529F;&#x80FD;&#x3002;"><i class="fa fa-link" aria-hidden="true"></i></a>7-1-3&gt;&#x4EE5;&#x4E0B;demo&#x5B9E;&#x73B0;&#x4E86;&#x63A7;&#x5236;&#x53F0;&#x7684;&#x4E3B;&#x673A;&#x4F18;&#x96C5;&#x5199;&#x6CD5;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5B9A;&#x65F6;&#x529F;&#x80FD;&#x3002;</h3>
<pre class="language-"><code class="lang-C#">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// &#x5165;&#x53E3;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>args<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x4F20;&#x5165;&#x53C2;&#x6570;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span>
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>returns</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>returns</span><span class="token punctuation">&gt;</span></span>
public static async Task Main(string[] args)
{
    await CreateHostBuilder(args).UseConsoleLifetime().Build().RunAsync();
    //&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x7B49;&#x540C;&#x4E8E;&#x4E0A;&#x9762;
    //await CreateHostBuilder(args).RunConsoleAsync();
}

/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// &#x521B;&#x5EFA;&#x6CDB;&#x578B;&#x4E3B;&#x673A;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>args<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x4F20;&#x5165;&#x53C2;&#x6570;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span>
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>returns</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>returns</span><span class="token punctuation">&gt;</span></span>
public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
    Host.CreateDefaultBuilder(args)
        .ConfigureHostConfiguration(configurationBuilder =&gt;
        {
            configurationBuilder.SetBasePath(FramePublicFun.GetDllPath());
            configurationBuilder.AddJsonFile(SysContant.Hostsettings_FileName, optional: true, reloadOnChange: true);
            configurationBuilder.AddEnvironmentVariables(prefix: SysContant.Setting_Prefix);
            configurationBuilder.AddCommandLine((args ?? new string[] { }));
        })
        .ConfigureAppConfiguration((hostBuilderContext, configurationBuilder) =&gt;
        {
            Console.WriteLine($&quot;hostBuilderContext.HostingEnvironment.EnvironmentName:{hostBuilderContext.HostingEnvironment.EnvironmentName}&quot;);

        configurationBuilder.AddJsonFile(SysContant.Appsettings_FileName, optional: true, reloadOnChange: true);

        var appsettingsFileNameArr = SysContant.Appsettings_FileName.Split(new[] { &quot;.&quot; }, StringSplitOptions.RemoveEmptyEntries) ?? new string[] { };
        var appsettingsFileNamePrefix = appsettingsFileNameArr.Length != 2 ? &quot;appsettings&quot; : appsettingsFileNameArr[0];
        var appsettingsFileNameExtension = appsettingsFileNameArr.Length != 2 ? &quot;json&quot; : appsettingsFileNameArr[1];
        configurationBuilder.AddJsonFile
        (
            $&quot;{appsettingsFileNamePrefix}.{hostBuilderContext.HostingEnvironment.EnvironmentName}.{appsettingsFileNameExtension}&quot;,
            optional: true, reloadOnChange: true
        );

        configurationBuilder.AddEnvironmentVariables(prefix: SysContant.Setting_Prefix);

        configurationBuilder.AddCommandLine(args);
    })
    .ConfigureLogging((hostBuilderContext, loggingBuilder) =&gt;
    {
        loggingBuilder.AddFilter(&quot;System&quot;, LogLevel.Warning);
        loggingBuilder.AddFilter(&quot;Microsoft&quot;, LogLevel.Warning);

        var cfgFilePath = Path.Combine(FramePublicFun.GetDllPath(), SysContant.Log4Net_CfgFileName);
        loggingBuilder.AddLog4Net(cfgFilePath);
    })
    //.ConfigureServices((hostBuilderContext, services) =&gt;
    //{
    //    services.AddHostedService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MonitorServerService</span><span class="token punctuation">&gt;</span></span>();
    //    services.AddHostedService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SeveralTimesPerDayService</span><span class="token punctuation">&gt;</span></span>();
    //});
    .UseHostedService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MonitorServerService</span><span class="token punctuation">&gt;</span></span>()
    .UseHostedService<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SeveralTimesPerDayService</span><span class="token punctuation">&gt;</span></span>();
</code></pre>
<p>*&#x4E2A;&#x4EBA;&#x5BF9;Task.CompletedTask/Task.FromResult &#x548C; Task.Run &#x7684;&#x7406;&#x89E3;
Task.CompletedTask/Task.FromResult&#x662F;&#x4E3A;&#x4E86;&#x8FD4;&#x56DE;Task&#x7C7B;&#x578B;, &#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x4E2A;&#x7684;&#x6240;&#x5728;&#x903B;&#x8F91;, &#x5B9E;&#x9645;&#x662F;&#x540C;&#x6B65;&#x6267;&#x884C;&#x7684;, &#x800C;Task.Run&#x662F;&#x786E;&#x5B9E;&#x5355;&#x72EC;&#x5F00;&#x4E86;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;, &#x5F02;&#x6B65;&#x6267;&#x884C;&#x903B;&#x8F91;.
&#x56E0;&#x6B64;, &#x6BD4;&#x5982;&#x67D0;&#x4E2A;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x4E86;Task&#x65B9;&#x6CD5;, &#x53EF;&#x662F;&#x5728;&#x5B9E;&#x73B0;&#x7C7B;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;, &#x53D1;&#x73B0;&#x65B9;&#x6CD5;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5F88;&#x7B80;&#x5355;, &#x5C31;&#x6CA1;&#x5FC5;&#x8981;&#x4F7F;&#x7528;Task.Run, &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;Task.CompletedTask/Task.FromResult.</p>
<h2 id="7-2web&#x4E3B;&#x673A;&#x5728;3x&#x7248;&#x672C;"><a name="7-2web&#x4E3B;&#x673A;&#x5728;3x&#x7248;&#x672C;" class="anchor-navigation-ex-anchor" href="#7-2web&#x4E3B;&#x673A;&#x5728;3x&#x7248;&#x672C;"><i class="fa fa-link" aria-hidden="true"></i></a>7-2&gt;Web&#x4E3B;&#x673A;(&#x5728;3.x&#x7248;&#x672C;)</h2>
<p>&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x72EC;&#x7ACB;&#x51FA;&#x4E86;web&#x4E3B;&#x673A;&#x914D;&#x7F6E;, ConfigureWebHostDefaults, &#x8DDF;web&#x4E3B;&#x673A;&#x76F8;&#x5173;&#x7684;&#x914D;&#x7F6E;, &#x5982;Configure.</p>
<h3 id="7-2-1kestrel&#x7684;&#x914D;&#x7F6E;-&#x53EF;&#x4EE5;&#x5728;configurewebhostdefaults&#x5185;&#x4F7F;&#x7528;webbuilderconfigurekestrel&#x914D;&#x7F6E;-&#x4E5F;&#x53EF;&#x4EE5;&#x5728;configureservices&#x91CC;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a name="7-2-1kestrel&#x7684;&#x914D;&#x7F6E;-&#x53EF;&#x4EE5;&#x5728;configurewebhostdefaults&#x5185;&#x4F7F;&#x7528;webbuilderconfigurekestrel&#x914D;&#x7F6E;-&#x4E5F;&#x53EF;&#x4EE5;&#x5728;configureservices&#x91CC;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#7-2-1kestrel&#x7684;&#x914D;&#x7F6E;-&#x53EF;&#x4EE5;&#x5728;configurewebhostdefaults&#x5185;&#x4F7F;&#x7528;webbuilderconfigurekestrel&#x914D;&#x7F6E;-&#x4E5F;&#x53EF;&#x4EE5;&#x5728;configureservices&#x91CC;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>7-2-1&gt;Kestrel&#x7684;&#x914D;&#x7F6E;, &#x53EF;&#x4EE5;&#x5728;ConfigureWebHostDefaults&#x5185;&#x4F7F;&#x7528;webBuilder.ConfigureKestrel&#x914D;&#x7F6E;, &#x4E5F;&#x53EF;&#x4EE5;&#x5728;ConfigureServices&#x91CC;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;.</h3>
<pre class="language-"><code class="lang-C#">services.Configure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>KestrelServerOptions</span><span class="token punctuation">&gt;</span></span>(Configuration.GetSection(&quot;Kestrel&quot;))
</code></pre>
<h3 id="7-2-2kestrelserveroptionslimitsmaxrequestbodysize--null-&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x7684;&#x5927;&#x5C0F;-null&#x4E3A;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;action&#x4E0A;-&#x4F7F;&#x7528;requestsizelimit100000000&#x6765;&#x4E3A;&#x6BCF;&#x4E2A;action&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;"><a name="7-2-2kestrelserveroptionslimitsmaxrequestbodysize--null-&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x7684;&#x5927;&#x5C0F;-null&#x4E3A;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;action&#x4E0A;-&#x4F7F;&#x7528;requestsizelimit100000000&#x6765;&#x4E3A;&#x6BCF;&#x4E2A;action&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;" class="anchor-navigation-ex-anchor" href="#7-2-2kestrelserveroptionslimitsmaxrequestbodysize--null-&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x7684;&#x5927;&#x5C0F;-null&#x4E3A;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;action&#x4E0A;-&#x4F7F;&#x7528;requestsizelimit100000000&#x6765;&#x4E3A;&#x6BCF;&#x4E2A;action&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;"><i class="fa fa-link" aria-hidden="true"></i></a>7-2-2&gt;kestrelServerOptions.Limits.MaxRequestBodySize = null; //&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x7684;&#x5927;&#x5C0F;, null&#x4E3A;&#x4E0D;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7684;Action&#x4E0A;, &#x4F7F;&#x7528;[RequestSizeLimit(100000000)]&#x6765;&#x4E3A;&#x6BCF;&#x4E2A;Action&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;.</h3>
<h3 id="7-2-3kestrel&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x5B98;&#x7F51;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsserverskestrelviewaspnetcore-31kestrel-options"><a name="7-2-3kestrel&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x5B98;&#x7F51;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsserverskestrelviewaspnetcore-31kestrel-options" class="anchor-navigation-ex-anchor" href="#7-2-3kestrel&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x5B98;&#x7F51;httpsdocsmicrosoftcomzh-cnaspnetcorefundamentalsserverskestrelviewaspnetcore-31kestrel-options"><i class="fa fa-link" aria-hidden="true"></i></a>7-2-3&gt;Kestrel&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x53C2;&#x8003;&#x5B98;&#x7F51;<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/servers/kestrel?view=aspnetcore-3.1#kestrel-options" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/servers/kestrel?view=aspnetcore-3.1#kestrel-options</a>.</h3>
<h1 id="8&#x914D;&#x7F6E;--&#x9009;&#x9879;"><a name="8&#x914D;&#x7F6E;--&#x9009;&#x9879;" class="anchor-navigation-ex-anchor" href="#8&#x914D;&#x7F6E;--&#x9009;&#x9879;"><i class="fa fa-link" aria-hidden="true"></i></a>8&gt;&#x914D;&#x7F6E; &amp; &#x9009;&#x9879;</h1>
<p><a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.1</a>
<a href="https://www.cnblogs.com/MrHSR/p/10281426.html" target="_blank">https://www.cnblogs.com/MrHSR/p/10281426.html</a>
<a href="https://www.cnblogs.com/MrHSR/p/10285906.html" target="_blank">https://www.cnblogs.com/MrHSR/p/10285906.html</a>
<a href="https://www.cnblogs.com/guzhanyu/p/9004063.html" target="_blank">https://www.cnblogs.com/guzhanyu/p/9004063.html</a>
<a href="https://www.tnblog.net/aojiancc/article/details/3239" target="_blank">https://www.tnblog.net/aojiancc/article/details/3239</a>
<a href="https://www.tnblog.net/%E7%A0%81%E5%86%9C%E6%80%9D%E7%91%9E%E4%B8%8D%E5%A7%93%E5%BC%A0/article/details/6243" target="_blank">https://www.tnblog.net/%E7%A0%81%E5%86%9C%E6%80%9D%E7%91%9E%E4%B8%8D%E5%A7%93%E5%BC%A0/article/details/6243</a></p>
<h2 id="8-1-&#x914D;&#x7F6E;&#x6765;&#x6E90;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7684;&#x987A;&#x5E8F;"><a name="8-1-&#x914D;&#x7F6E;&#x6765;&#x6E90;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7684;&#x987A;&#x5E8F;" class="anchor-navigation-ex-anchor" href="#8-1-&#x914D;&#x7F6E;&#x6765;&#x6E90;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7684;&#x987A;&#x5E8F;"><i class="fa fa-link" aria-hidden="true"></i></a>8-1&gt; &#x914D;&#x7F6E;&#x6765;&#x6E90;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7684;&#x987A;&#x5E8F;</h2>
<ol>
<li>&#x6587;&#x4EF6; (appsettings.json, appsettings.{Environment}.json, &#x5176;&#x4E2D;{Environment}&#x662F;&#x5E94;&#x7528;&#x7684;&#x5F53;&#x524D;&#x6258;&#x7BA1;&#x73AF;&#x5883;)</li>
<li>Azure &#x5BC6;&#x94A5;&#x4FDD;&#x7BA1;&#x5E93;</li>
<li>&#x7528;&#x6237;&#x673A;&#x5BC6;(Secret Manager) (&#x4EC5;&#x9650;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4E2D;)</li>
<li>&#x73AF;&#x5883;&#x53D8;&#x91CF;</li>
<li>&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;
&#x901A;&#x5E38;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x5C06;&#x547D;&#x4EE4;&#x884C;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7F6E;&#x4E8E;&#x4E00;&#x7CFB;&#x5217;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x7684;&#x672B;&#x5C3E;, &#x4EE5;&#x5141;&#x8BB8;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x66FF;&#x4EE3;&#x7531;&#x5176;&#x4ED6;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x8BBE;&#x7F6E;&#x7684;&#x914D;&#x7F6E;. &#x5728;&#x4F7F;&#x7528; CreateDefaultBuilder &#x521D;&#x59CB;&#x5316;&#x65B0;&#x7684; WebHostBuilder &#x65F6;&#xFF0C;&#x5C06;&#x4F7F;&#x7528;&#x6B64;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;&#x5E8F;&#x5217;.</li>
</ol>
<h2 id="8-2&#x914D;&#x7F6E;&#x7EA6;&#x5B9A;"><a name="8-2&#x914D;&#x7F6E;&#x7EA6;&#x5B9A;" class="anchor-navigation-ex-anchor" href="#8-2&#x914D;&#x7F6E;&#x7EA6;&#x5B9A;"><i class="fa fa-link" aria-hidden="true"></i></a>8-2&gt;&#x914D;&#x7F6E;&#x7EA6;&#x5B9A;</h2>
<p>1) &#x914D;&#x7F6E;&#x6765;&#x6E90;&#x4E2D;&#x7684;&#x952E;&#x6709;&#x4EE5;&#x4E0B;&#x7EA6;&#x5B9A;:
   &#x952E;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;, &#x6BD4;&#x5982;&#x7528;GetSection&#x8BFB;&#x53D6;&#x65F6;, &#x53EF;&#x4EE5;&#x4E0D;&#x7BA1;&#x5927;&#x5C0F;&#x5199;;
   &#x914D;&#x7F6E;&#x6765;&#x6E90;&#x4E2D;&#x8BBE;&#x7F6E;&#x76F8;&#x540C;&#x952E;&#x7684;&#x503C;, &#x5219;&#x53D6;&#x914D;&#x7F6E;&#x6765;&#x6E90;&#x4E2D;&#x952E;&#x4E0A;&#x8BBE;&#x7F6E;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x503C;. &#x6BD4;&#x5982;appsettings.json&#x4E0E;appsettings.{Environment}.json&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x6765;&#x6E90;&#x6587;&#x4EF6;;
   &#x5206;&#x5C42;&#x952E;, &#x5982;&#x5728;json&#x6587;&#x4EF6;&#x4E2D;&#x591A;&#x4E2A;&#x8282;&#x70B9;, &#x5192;&#x53F7;&#x5206;&#x9694;&#x7B26;(:)&#x9002;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x5E73;&#x53F0;. &#x800C;&#x5728;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x6765;&#x6E90;&#x914D;&#x7F6E;&#x4E2D;, &#x6240;&#x6709;&#x5E73;&#x53F0;&#x5747;&#x652F;&#x6301;&#x91C7;&#x7528;&#x53CC;&#x4E0B;&#x5212;&#x7EBF; (__);
   ConfigurationBinder &#x652F;&#x6301;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x952E;&#x4E2D;&#x7684;&#x6570;&#x7EC4;&#x7D22;&#x5F15;&#x5C06;&#x6570;&#x7EC4;&#x7ED1;&#x5B9A;&#x5230;&#x7C7B;&#x5BF9;&#x8C61;;
2) &#x914D;&#x7F6E;&#x503C;&#x91C7;&#x7528;&#x4EE5;&#x4E0B;&#x7EA6;&#x5B9A;&#xFF1A;
   &#x503C;&#x662F;&#x5B57;&#x7B26;&#x4E32;;
   NULL&#x503C;&#x4E0D;&#x80FD;&#x5B58;&#x50A8;&#x5728;&#x914D;&#x7F6E;&#x4E2D;&#x6216;&#x7ED1;&#x5B9A;&#x5230;&#x5BF9;&#x8C61;;</p>
<h2 id="8-3&#x83B7;&#x53D6;&#x914D;&#x7F6E;&#x503C;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;"><a name="8-3&#x83B7;&#x53D6;&#x914D;&#x7F6E;&#x503C;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#8-3&#x83B7;&#x53D6;&#x914D;&#x7F6E;&#x503C;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>8-3&gt;&#x83B7;&#x53D6;&#x914D;&#x7F6E;&#x503C;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;</h2>
<p>(&#x5148;&#x901A;&#x8FC7;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x83B7;&#x53D6;IConfiguration Configuration)</p>
<h3 id="8-3-1&#x76F4;&#x63A5;&#x83B7;&#x53D6;"><a name="8-3-1&#x76F4;&#x63A5;&#x83B7;&#x53D6;" class="anchor-navigation-ex-anchor" href="#8-3-1&#x76F4;&#x63A5;&#x83B7;&#x53D6;"><i class="fa fa-link" aria-hidden="true"></i></a>8-3-1&gt;&#x76F4;&#x63A5;&#x83B7;&#x53D6;</h3>
<pre class="language-"><code class="lang-C#">var lifetime = Configuration[&quot;Logging:LogLevel:Microsoft.Hosting.Lifetime&quot;];
var dbType = Configuration.GetSection(&quot;DBConnectionInfo&quot;).GetValue(&quot;DBType&quot;, &quot;MySQL&quot;);
var connStr = Configuration.GetValue(&quot;DBConnectionInfo:ConnStr&quot;, &quot;EmptyConnStr&quot;);
var noExistKey = Configuration.GetValue(&quot;DBConnectionInfo:NoKey&quot;, &quot;DefaultValue&quot;);
</code></pre>
<p>**&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;, &#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x7684;&#x65B9;&#x5F0F;&#x53EA;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x6700;&#x5E95;&#x5C42;key&#x7684;&#x503C;, &#x5982;&#x679C;&#x67E5;&#x8BE2;&#x7684;key&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x662F;object&#x6216;&#x8005;list, &#x90A3;&#x4E48;&#x8FD4;&#x56DE;&#x503C;&#x90FD;&#x662F;&#x7A7A;!!!</p>
<h3 id="8-3-2&#x5B9E;&#x4F8B;&#x5316;&#x5B9E;&#x4F53;&#x83B7;&#x53D6;"><a name="8-3-2&#x5B9E;&#x4F8B;&#x5316;&#x5B9E;&#x4F53;&#x83B7;&#x53D6;" class="anchor-navigation-ex-anchor" href="#8-3-2&#x5B9E;&#x4F8B;&#x5316;&#x5B9E;&#x4F53;&#x83B7;&#x53D6;"><i class="fa fa-link" aria-hidden="true"></i></a>8-3-2&gt;&#x5B9E;&#x4F8B;&#x5316;&#x5B9E;&#x4F53;&#x83B7;&#x53D6;</h3>
<pre class="language-"><code class="lang-C#">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// &#x7528;&#x4E8E;&#x627F;&#x8F7D;&#x914D;&#x7F6E;&#x9879;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
public class DBConnectionInfo
{
    /// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
    /// &#x5FC5;&#x987B;&#x6709;&#x516C;&#x5F00;&#x7684;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x51FD;&#x6570;
    /// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
    public DBConnectionInfo()
    {

}

/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// &#x9700;&#x8981;&#x8BBE;&#x7F6E;get;set;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
public string Version { get; set; } = &quot;5.3&quot;;
public string DBType { get; set; }
public string ConnStr { get; set; }

}

var dbConnectionInfo1 = new DBConnectionInfo();
Configuration.GetSection(&quot;DBConnectionInfo&quot;).Bind(dbConnectionInfo1);
//&#x83B7;&#x53D6;&#x7528;Get&lt;&gt;
var dbConnectionInfo2 = Configuration.GetSection(&quot;DBConnectionInfo&quot;).Get<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DBConnectionInfo</span><span class="token punctuation">&gt;</span></span>();
</code></pre>
<h3 id="8-3-3&#x5728;configureservices&#x4F7F;&#x7528;servicesconfigureconfigurationgetsection&#x6765;&#x6CE8;&#x518C;&#x914D;&#x7F6E;-&#x540E;&#x7EED;&#x53EF;&#x4F7F;&#x7528;ioptions-options&#x6765;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;-&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x62BD;&#x5230;&#x62D3;&#x5C55;&#x65B9;&#x6CD5;&#x7C7B;&#x4E2D;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;"><a name="8-3-3&#x5728;configureservices&#x4F7F;&#x7528;servicesconfigureconfigurationgetsection&#x6765;&#x6CE8;&#x518C;&#x914D;&#x7F6E;-&#x540E;&#x7EED;&#x53EF;&#x4F7F;&#x7528;ioptions-options&#x6765;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;-&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x62BD;&#x5230;&#x62D3;&#x5C55;&#x65B9;&#x6CD5;&#x7C7B;&#x4E2D;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;" class="anchor-navigation-ex-anchor" href="#8-3-3&#x5728;configureservices&#x4F7F;&#x7528;servicesconfigureconfigurationgetsection&#x6765;&#x6CE8;&#x518C;&#x914D;&#x7F6E;-&#x540E;&#x7EED;&#x53EF;&#x4F7F;&#x7528;ioptions-options&#x6765;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;-&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x62BD;&#x5230;&#x62D3;&#x5C55;&#x65B9;&#x6CD5;&#x7C7B;&#x4E2D;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>8-3-3&gt;&#x5728;ConfigureServices&#x4F7F;&#x7528;services.Configure<t>(Configuration.GetSection(&quot;&quot;))&#x6765;&#x6CE8;&#x518C;&#x914D;&#x7F6E;, &#x540E;&#x7EED;&#x53EF;&#x4F7F;&#x7528;IOptions<t> options&#x6765;&#x83B7;&#x53D6;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;, &#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x62BD;&#x5230;&#x62D3;&#x5C55;&#x65B9;&#x6CD5;&#x7C7B;&#x4E2D;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;.</t></t></h3>
<p>*&#x6BD4;&#x5982;&#x5728;appsettings.{Environment}.json&#x7684;&#x6839;&#x8282;&#x70B9;&#x4E0A;&#x8BBE;&#x7F6E;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;key(SystemConfig), &#x5C06;&#x7CFB;&#x7EDF;&#x6240;&#x6709;&#x7684;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x5728;&#x8FD9;&#x4E2A;key&#x5E95;&#x4E0B;, &#x7136;&#x540E;&#x901A;&#x8FC7;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;, &#x518D;&#x540E;&#x7EED;&#x7684;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x4F7F;&#x7528;. &#x7ED3;&#x5408;IOptionsSnapshot, &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5F53;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x540E;, &#x9A6C;&#x4E0A;&#x83B7;&#x53D6;&#x5230;&#x65B0;&#x7684;&#x503C;.
&#x53E6;&#x5916;,&#x9700;&#x8981;&#x4FEE;&#x6539;&#x540E;&#x9A6C;&#x4E0A;&#x751F;&#x6548;&#x7684;&#x6587;&#x4EF6;,reloadOnChange&#x4E00;&#x5B9A;&#x8981;&#x8BBE;&#x7F6E;&#x6210;true.</p>
<pre class="language-"><code class="lang-c#">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// ServiceCollection&#x62D3;&#x5C55;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
public static class ServiceCollectionExtension
{
    /// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
    /// &#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;
    /// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
    /// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>serviceCollection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x670D;&#x52A1;&#x96C6;&#x5408;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span>
    /// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>configuration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>&#x914D;&#x7F6E;&#x5BF9;&#x8C61;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param</span><span class="token punctuation">&gt;</span></span>
    /// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>returns</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>returns</span><span class="token punctuation">&gt;</span></span>
    public static IServiceCollection AddCustomConfig(this IServiceCollection serviceCollection, IConfiguration configuration)
    {
        if (serviceCollection == null)
        {
            throw new ArgumentNullException(nameof(serviceCollection));
        }

    if (configuration == null)
    {
        throw new ArgumentNullException(nameof(configuration));
    }

    return serviceCollection.Configure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SystemConfig</span><span class="token punctuation">&gt;</span></span>(configuration.GetSection(nameof(SystemConfig)));
    //return serviceCollection.Configure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SystemConfig</span><span class="token punctuation">&gt;</span></span>(configuration.GetSection(SysContant.Configuration_Section_SystemConfig));
}

}
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// &#x7CFB;&#x7EDF;&#x914D;&#x7F6E;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
public IOptions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SystemConfig</span><span class="token punctuation">&gt;</span></span> SystemConfigOption { get; set; }
public IOptionsSnapshot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SystemConfig</span><span class="token punctuation">&gt;</span></span> SystemConfigOption { get; set; }
</code></pre>
<p>&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#x503C; SystemConfigOption.Value</p>
<h3 id="8-3-4ioptions-ioptionssnapshot-ioptionsmonitor"><a name="8-3-4ioptions-ioptionssnapshot-ioptionsmonitor" class="anchor-navigation-ex-anchor" href="#8-3-4ioptions-ioptionssnapshot-ioptionsmonitor"><i class="fa fa-link" aria-hidden="true"></i></a>8-3-4&gt;IOptions<toptions>, IOptionsSnapshot<toptions>, IOptionsMonitor<toptions></toptions></toptions></toptions></h3>
<p><a href="https://www.cnblogs.com/mq0036/p/14552315.html" target="_blank">https://www.cnblogs.com/mq0036/p/14552315.html</a>
<a href="https://www.cnblogs.com/wenhx/p/ioptions-ioptionsmonitor-and-ioptionssnapshot.html" target="_blank">https://www.cnblogs.com/wenhx/p/ioptions-ioptionsmonitor-and-ioptionssnapshot.html</a>
<a href="https://blog.csdn.net/u011473324/article/details/108768675" target="_blank">https://blog.csdn.net/u011473324/article/details/108768675</a></p>
<p>IOptions&lt;&gt;&#x662F;&#x5168;&#x5C40;&#x5355;&#x4F8B;, &#x56E0;&#x6B64;&#x4E00;&#x65E6;&#x751F;&#x6210;&#x4E86;, &#x9664;&#x975E;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x66F4;&#x6539;, &#x5426;&#x5219;&#x5B83;&#x7684;&#x503C;&#x662F;&#x4E0D;&#x4F1A;&#x66F4;&#x65B0;&#x7684;.
IOptionsMonitor&lt;&gt;&#x4E5F;&#x662F;&#x5355;&#x4F8B;, &#x4F46;&#x662F;&#x5B83;&#x901A;&#x8FC7;IOptionsChangeTokenSource&lt;&gt; &#x80FD;&#x591F;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E00;&#x8D77;&#x66F4;&#x65B0;, &#x4E5F;&#x80FD;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x66F4;&#x6539;&#x503C;.
IOptionsSnapshot&lt;&gt;&#x662F;&#x8303;&#x56F4;, &#x6240;&#x4EE5;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x66F4;&#x65B0;&#x7684;&#x4E0B;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;, &#x5B83;&#x7684;&#x503C;&#x4F1A;&#x66F4;&#x65B0;, &#x4F46;&#x662F;&#x5B83;&#x4E0D;&#x80FD;&#x8DE8;&#x8303;&#x56F4;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x66F4;&#x6539;&#x503C;, &#x53EA;&#x80FD;&#x5728;&#x5F53;&#x524D;&#x8303;&#x56F4;&#xFF08;&#x8BF7;&#x6C42;&#xFF09;&#x5185;&#x6709;&#x6548;.(&#x5728;web&#x73AF;&#x5883;&#x4E0B;,&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;, &#x91CD;&#x65B0;&#x8BFB;&#x53D6;&#x4E00;&#x6B21;&#x914D;&#x7F6E;&#x6587;&#x4EF6;).</p>
<h2 id="8-4&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;"><a name="8-4&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#8-4&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>8-4&gt;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;</h2>
<p>&#x901A;&#x7528;&#x4E3B;&#x673A;&#x53D8;&#x91CF;&#xFF1A;<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1</a>
Web&#x4E3B;&#x673A;&#x53D8;&#x91CF;: <a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.1</a></p>
<h2 id="8-5&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;"><a name="8-5&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;" class="anchor-navigation-ex-anchor" href="#8-5&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>8-5&gt;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;</h2>
<h3 id="8-5-1&#x914D;&#x7F6E;&#x81EA;&#x53D8;&#x91CF;&#x793A;&#x4F8B;"><a name="8-5-1&#x914D;&#x7F6E;&#x81EA;&#x53D8;&#x91CF;&#x793A;&#x4F8B;" class="anchor-navigation-ex-anchor" href="#8-5-1&#x914D;&#x7F6E;&#x81EA;&#x53D8;&#x91CF;&#x793A;&#x4F8B;"><i class="fa fa-link" aria-hidden="true"></i></a>8-5-1&gt;&#x914D;&#x7F6E;&#x81EA;&#x53D8;&#x91CF;&#x793A;&#x4F8B;</h3>
<pre class="language-"><code class="lang-powershell">dotnet run CommandLineKey1=value1 <span class="token operator">--</span>CommandLineKey2=value2 <span class="token operator">/</span>CommandLineKey3=value3
dotnet run <span class="token operator">--</span>CommandLineKey1 value1 <span class="token operator">/</span>CommandLineKey2 value2
dotnet run CommandLineKey1= CommandLineKey2=value2
</code></pre>
<h3 id="8-5-2key&#x4EA4;&#x6362;&#x6620;&#x5C04;"><a name="8-5-2key&#x4EA4;&#x6362;&#x6620;&#x5C04;" class="anchor-navigation-ex-anchor" href="#8-5-2key&#x4EA4;&#x6362;&#x6620;&#x5C04;"><i class="fa fa-link" aria-hidden="true"></i></a>8-5-2&gt;key&#x4EA4;&#x6362;&#x6620;&#x5C04;</h3>
<p>&#x4EA4;&#x6362;&#x6620;&#x5C04;&#x5B57;&#x5178;&#x952E;&#x89C4;&#x5219;&#xFF1A;(1)&#x4EA4;&#x6362;&#x5FC5;&#x987B;&#x4EE5;&#x5355;&#x5212;&#x7EBF; (-) &#x6216;&#x53CC;&#x5212;&#x7EBF; (--) &#x5F00;&#x5934; &#x3002;(2) &#x4EA4;&#x6362;&#x6620;&#x5C04;&#x5B57;&#x5178;&#x4E0D;&#x5F97;&#x5305;&#x542B;&#x91CD;&#x590D;&#x952E;&#x3002;</p>
<pre class="language-"><code class="lang-C#">public static readonly Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string,</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span> _switchMappings = 
    new Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string,</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span>
    {
        { &quot;-CLKey1&quot;, &quot;CommandLineKey1&quot; },
        { &quot;-CLKey2&quot;, &quot;CommandLineKey2&quot; }
    };
config.AddCommandLine(args, _switchMappings);
</code></pre>
<h2 id="8-6&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addjsonfile&#x5E38;&#x7528;-addinifile-addxmlfile"><a name="8-6&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addjsonfile&#x5E38;&#x7528;-addinifile-addxmlfile" class="anchor-navigation-ex-anchor" href="#8-6&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addjsonfile&#x5E38;&#x7528;-addinifile-addxmlfile"><i class="fa fa-link" aria-hidden="true"></i></a>8-6&gt;&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;AddJsonFile(&#x5E38;&#x7528;), AddIniFile, AddXmlFile</h2>
<h2 id="8-7key-per-file-&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;-addkeyperfile&#x6CA1;&#x7528;&#x8FC7;-&#x9700;&#x8981;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10285906html"><a name="8-7key-per-file-&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;-addkeyperfile&#x6CA1;&#x7528;&#x8FC7;-&#x9700;&#x8981;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10285906html" class="anchor-navigation-ex-anchor" href="#8-7key-per-file-&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;-addkeyperfile&#x6CA1;&#x7528;&#x8FC7;-&#x9700;&#x8981;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10285906html"><i class="fa fa-link" aria-hidden="true"></i></a>8-7&gt;Key-per-file &#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F; AddKeyPerFile(&#x6CA1;&#x7528;&#x8FC7;), &#x9700;&#x8981;&#x53EF;&#x4EE5;&#x53C2;&#x8003;: <a href="https://www.cnblogs.com/MrHSR/p/10285906.html" target="_blank">https://www.cnblogs.com/MrHSR/p/10285906.html</a></h2>
<h2 id="8-8&#x5185;&#x5B58;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addinmemorycollection"><a name="8-8&#x5185;&#x5B58;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addinmemorycollection" class="anchor-navigation-ex-anchor" href="#8-8&#x5185;&#x5B58;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;addinmemorycollection"><i class="fa fa-link" aria-hidden="true"></i></a>8-8&gt;&#x5185;&#x5B58;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;AddInMemoryCollection</h2>
<pre class="language-"><code class="lang-C#">/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">&gt;</span></span>
/// &#x6784;&#x5EFA;&#x5185;&#x5B58;&#x5BF9;&#x8C61;&#x7684;&#x952E;&#x503C;&#x5BF9;
/// <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">&gt;</span></span>
public static readonly Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string,</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span> _dict =
new Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string,</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span>
{
    {&quot;MemoryCollectionKey1&quot;, &quot;value1&quot;},
    {&quot;MemoryCollectionKey2&quot;, &quot;value2&quot;}
};
config.AddInMemoryCollection(_dict);
</code></pre>
<h2 id="8-9&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x8BFB;&#x53D6;&#x65B9;&#x6CD5;getvalue&#x3001;getsection&#x3001;getchildren-&#x548C;-exists"><a name="8-9&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x8BFB;&#x53D6;&#x65B9;&#x6CD5;getvalue&#x3001;getsection&#x3001;getchildren-&#x548C;-exists" class="anchor-navigation-ex-anchor" href="#8-9&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x8BFB;&#x53D6;&#x65B9;&#x6CD5;getvalue&#x3001;getsection&#x3001;getchildren-&#x548C;-exists"><i class="fa fa-link" aria-hidden="true"></i></a>8-9&gt;&#x914D;&#x7F6E;&#x5E38;&#x7528;&#x8BFB;&#x53D6;&#x65B9;&#x6CD5;(GetValue&#x3001;GetSection&#x3001;GetChildren &#x548C; Exists)</h2>
<h3 id="8-9-1getvalue"><a name="8-9-1getvalue" class="anchor-navigation-ex-anchor" href="#8-9-1getvalue"><i class="fa fa-link" aria-hidden="true"></i></a>8-9-1&gt;GetValue</h3>
<p>ConfigurationBinder.GetValue<t> &#x4ECE;&#x5177;&#x6709;&#x6307;&#x5B9A;&#x952E;&#x7684;&#x914D;&#x7F6E;&#x4E2D;&#x63D0;&#x53D6;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x4E3A;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x3002; 
&#x5982;&#x679C;&#x672A;&#x627E;&#x5230;&#x8BE5;&#x952E;&#xFF0C;&#x5219;&#x91CD;&#x8F7D;&#x5141;&#x8BB8;&#x4F60;&#x63D0;&#x4F9B;&#x9ED8;&#x8BA4;&#x503C;&#x3002;
&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x952E; NumberKey &#x4ECE;&#x914D;&#x7F6E;&#x4E2D;&#x63D0;&#x53D6;&#x5B57;&#x7B26;&#x4E32;&#x503C;&#xFF0C;&#x952E;&#x5165;&#x8BE5;&#x503C;&#x4F5C;&#x4E3A; int&#xFF0C;&#x5E76;&#x5C06;&#x503C;&#x5B58;&#x50A8;&#x5728;&#x53D8;&#x91CF; intValue &#x4E2D;&#x3002; &#x5982;&#x679C;&#x5728;&#x914D;&#x7F6E;&#x952E;&#x4E2D;&#x627E;&#x4E0D;&#x5230; NumberKey&#xFF0C;&#x5219; intValue &#x4F1A;&#x63A5;&#x6536; 99 &#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;
var intValue = config.GetValue<int>(&quot;NumberKey&quot;, 99);</int></t></p>
<h3 id="8-9-2getsection"><a name="8-9-2getsection" class="anchor-navigation-ex-anchor" href="#8-9-2getsection"><i class="fa fa-link" aria-hidden="true"></i></a>8-9-2&gt;GetSection</h3>
<p>IConfiguration.GetSection &#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x5B50;&#x8282;&#x952E;&#x63D0;&#x53D6;&#x914D;&#x7F6E;&#x5B50;&#x8282;&#x3002;GetSection &#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE; null&#x3002; &#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x5339;&#x914D;&#x7684;&#x8282;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7A7A; IConfigurationSection&#x3002;</p>
<h3 id="8-9-3getchildren"><a name="8-9-3getchildren" class="anchor-navigation-ex-anchor" href="#8-9-3getchildren"><i class="fa fa-link" aria-hidden="true"></i></a>8-9-3&gt;GetChildren</h3>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span> 
  <span class="token property">&quot;section0&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;key0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;section1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;key0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;section2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;subsection0&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;key1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;subsection1&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;key0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;key1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>//&#x5728;&#x4E0A;&#x9762;&#x7684;json&#x7ED3;&#x6784;&#x4E2D;&#xFF0C;&#x83B7;&#x53D6;section2&#x4E0B;&#x9762;&#x7684;&#x5B50;&#x8282;&#x70B9;</p>
<pre class="language-"><code class="lang-C#">var configSection = _config.GetSection(&quot;section2&quot;);
var children = configSection.GetChildren();
</code></pre>
<h3 id="8-9-4exists"><a name="8-9-4exists" class="anchor-navigation-ex-anchor" href="#8-9-4exists"><i class="fa fa-link" aria-hidden="true"></i></a>8-9-4&gt;Exists</h3>
<p>//&#x5728;&#x4E0A;&#x9762;&#x7684;json&#x7ED3;&#x6784;&#x4E2D;&#xFF0C;&#x786E;&#x5B9A;&#x914D;&#x7F6E;&#x8282;&#x662F;&#x5426;&#x5B58;&#x5728;, &#x4E3A;false&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x4E2D;&#x6CA1;&#x6709; section2:subsection2 &#x8282;&#x70B9;</p>
<pre class="language-"><code class="lang-C#">var sectionExists = _config.GetSection(&quot;section2:subsection2&quot;).Exists();
</code></pre>
<h2 id="8-10&#x81EA;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;"><a name="8-10&#x81EA;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;" class="anchor-navigation-ex-anchor" href="#8-10&#x81EA;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;"><i class="fa fa-link" aria-hidden="true"></i></a>8-10&gt;&#x81EA;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;</h2>
<p>&#x7528;&#x5B9E;&#x4F53;&#x6846;&#x67B6; (EF) &#x521B;&#x5EFA;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x7A0B;&#x5E8F;(&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x4F8B;&#x5B50;)
<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/configuration/?view=aspnetcore-5.0" target="_blank">https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/configuration/?view=aspnetcore-5.0</a></p>
<h1 id="9&#x8DEF;&#x7531;"><a name="9&#x8DEF;&#x7531;" class="anchor-navigation-ex-anchor" href="#9&#x8DEF;&#x7531;"><i class="fa fa-link" aria-hidden="true"></i></a>9&gt;&#x8DEF;&#x7531;</h1>
<h2 id="9-1mvc&#x6846;&#x67B6;&#x8DEF;&#x7531;"><a name="9-1mvc&#x6846;&#x67B6;&#x8DEF;&#x7531;" class="anchor-navigation-ex-anchor" href="#9-1mvc&#x6846;&#x67B6;&#x8DEF;&#x7531;"><i class="fa fa-link" aria-hidden="true"></i></a>9-1&gt;MVC&#x6846;&#x67B6;&#x8DEF;&#x7531;</h2>
<h3 id="9-1-1&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;"><a name="9-1-1&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#9-1-1&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>9-1-1&gt;&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x4E2D;&#x95F4;&#x4EF6;</h3>
<pre class="language-"><code class="lang-c#">app.UseMvc(routes =&gt;
{
    routes.MapRoute
    (
        name: &quot;default&quot;,
        template: &quot;{controller=Home}/{action=Index}/{id?}&quot;
    );
});
</code></pre>
<p>&#x7B49;&#x6548;&#x4E8E;</p>
<pre class="language-"><code class="lang-C#">app.UseMvcWithDefaultRoute();
</code></pre>
<h3 id="9-1-2&#x4F20;&#x7EDF;&#x8DEF;&#x7531;"><a name="9-1-2&#x4F20;&#x7EDF;&#x8DEF;&#x7531;" class="anchor-navigation-ex-anchor" href="#9-1-2&#x4F20;&#x7EDF;&#x8DEF;&#x7531;"><i class="fa fa-link" aria-hidden="true"></i></a>9-1-2&gt;&#x4F20;&#x7EDF;&#x8DEF;&#x7531;</h3>
<p>*&#x4F20;&#x7EDF;&#x8DEF;&#x7531;&#x683C;&#x5F0F;&#xFF1A;{controller=Home}/{action=Index}/{id?}</p>
<p>*&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x591A;&#x4E2A;&#x8DEF;&#x7531;&#x6620;&#x5C04;, &#x7CFB;&#x7EDF;&#x6309;&#x6DFB;&#x52A0;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x5904;&#x7406;, &#x56E0;&#x6B64;&#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;, &#x5C06;&#x5148;&#x5C1D;&#x8BD5; blog &#x8DEF;&#x7531;, &#x518D;&#x5C1D;&#x8BD5; default &#x8DEF;&#x7531;.</p>
<pre class="language-"><code class="lang-C#">app.UseMvc(routes =&gt;
{
    routes.MapRoute
    (
        &quot;blog&quot;, 
        &quot;blog/{*article}&quot;,
        defaults: new
        { 
            controller = &quot;Blog&quot;, 
            action = &quot;Article&quot; 
        }
    );
    routes.MapRoute(&quot;default&quot;, &quot;{controller=Home}/{action=Index}/{id?}&quot;);
});
</code></pre>
<p>*action&#x64CD;&#x4F5C;&#x7684;&#x533A;&#x5206;
&#x5728;&#x5904;&#x7406;url&#x8BF7;&#x6C42;&#x65F6;, &#x5F53;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x5230;&#x4E00;&#x4E2A;&#x63A7;&#x5236;&#x5668;&#x5185;&#x4E24;&#x9879;&#x76F8;&#x540C;&#x7684;action&#x540D;&#x79F0;&#x65F6;, mvc&#x5FC5;&#x987B;&#x8FDB;&#x884C;&#x533A;&#x5206;, &#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x5C06;&#x8981;&#x63D0;&#x4EA4;&#x7684;action&#x52A0;&#x4E0A; Http &#x8C13;&#x8BCD;&#x4E3A; POST. &#x8FD9;&#x6837;post&#x8FC7;&#x6765;&#x65F6;, &#x5C31;&#x4F1A;&#x9009;&#x62E9;Edit(int, Product).</p>
<pre class="language-"><code class="lang-C#">public class ProductsController : Controller
{
    public IActionResult Edit(int id) {}

    [HttpPost]
    public IActionResult Edit(int id, Product product) {}
}
</code></pre>
<h3 id="9-1-3&#x5C5E;&#x6027;&#x8DEF;&#x7531;"><a name="9-1-3&#x5C5E;&#x6027;&#x8DEF;&#x7531;" class="anchor-navigation-ex-anchor" href="#9-1-3&#x5C5E;&#x6027;&#x8DEF;&#x7531;"><i class="fa fa-link" aria-hidden="true"></i></a>9-1-3&gt;&#x5C5E;&#x6027;&#x8DEF;&#x7531;</h3>
<pre class="language-"><code class="lang-C#">[Route(&quot;&quot;)]
[Route(&quot;Blog&quot;)]
[Route(&quot;Blog/ArticleList&quot;)]
public IActionResult Article()
{
    return View();
}
</code></pre>
<p>*&#x4F7F;&#x7528; Http[Verb] &#x5C5E;&#x6027;&#x7684;&#x5C5E;&#x6027;&#x8DEF;&#x7531;</p>
<pre class="language-"><code class="lang-C#">HttpGet(&quot;/products&quot;)]
public IActionResult ListProducts(){}
[HttpPost(&quot;/products&quot;)]
public IActionResult CreateProduct(){}
</code></pre>
<p>*&#x8DEF;&#x7531;&#x5408;&#x5E76;
&#x82E5;&#x8981;&#x4F7F;&#x5C5E;&#x6027;&#x8DEF;&#x7531;&#x51CF;&#x5C11;&#x91CD;&#x590D;, &#x53EF;&#x5C06;&#x63A7;&#x5236;&#x5668;Controller&#x4E0A;&#x7684;&#x8DEF;&#x7531;&#x5C5E;&#x6027;&#x4E0E;&#x5404;&#x4E2A;&#x64CD;&#x4F5C;Action&#x4E0A;&#x7684;&#x8DEF;&#x7531;&#x5C5E;&#x6027;&#x5408;&#x5E76;.
&#x63A7;&#x5236;&#x5668;&#x4E0A;&#x5B9A;&#x4E49;&#x7684;&#x6240;&#x6709;&#x8DEF;&#x7531;&#x6A21;&#x677F;&#x5747;&#x4F5C;&#x4E3A;&#x64CD;&#x4F5C;&#x4E0A;&#x8DEF;&#x7531;&#x6A21;&#x677F;&#x7684;&#x524D;&#x7F00;. &#x4E00;&#x65E6;&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E0A;&#x653E;&#x7F6E;&#x8DEF;&#x7531;&#x5C5E;&#x6027;, &#x5219;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x90FD;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x8DEF;&#x7531;.</p>
<pre class="language-"><code class="lang-C#">[Route(&quot;Home&quot;)]
public class HomeController : Controller
{
    [Route(&quot;&quot;)]      // Combines to define the route template &quot;Home&quot;
    [Route(&quot;Index&quot;)] // Combines to define the route template &quot;Home/Index&quot;
    [Route(&quot;/&quot;)]     // Doesn&apos;t combine, defines the route template &quot;&quot;
    public IActionResult Index()
    {
    }
}
</code></pre>
<p>*&#x5C5E;&#x6027;&#x8DEF;&#x7531;&#x53C2;&#x6570;&#x7EA6;&#x675F;</p>
<pre class="language-"><code class="lang-C#">[HttpGet(&quot;Blog/{id}&quot;, Name = &quot;Blog_GetArticle&quot;)]
[HttpGet(&quot;Blog/GetArticle/{id:int}&quot;)]
public IActionResult GetArticle(int id)
{
    return Json(new
    {
        Name = $&quot;Article:{id}&quot;
    });
}
</code></pre>
<p>*&#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x5C5E;&#x6027;</p>
<pre class="language-"><code class="lang-C#">public class MyApiControllerAttribute : Attribute, IRouteTemplateProvider
{
    //&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x4E09;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;[controller]&#x662F;&#x4E00;&#x4E2A;&#x6807;&#x8BB0;&#x66FF;&#x6362;&#x3002;
    public string Template =&gt; &quot;api/[controller]/{action}/{id?}&quot;;
    public int? Order { get; set; }
    public string Name { get; set; }
}    

public class ProductsApiController : Controller
{
    // GET api/values/5
    //  [HttpGet(&quot;{id}&quot;)]
    [MyApiController()]
    public string Get(int id)
    {
        return &quot;value&quot;;
    }
}
</code></pre>
<p>&#x901A;&#x8FC7;&#x8BBF;&#x95EE;url: <a href="http://localhost:30081/api/ProductsApi/get/1" target="_blank">http://localhost:30081/api/ProductsApi/get/1</a> &#x6765;&#x8C03;&#x7528;get&#x65B9;&#x6CD5;.</p>
<h3 id="9-1-4&#x7528;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x63A7;&#x5236;url"><a name="9-1-4&#x7528;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x63A7;&#x5236;url" class="anchor-navigation-ex-anchor" href="#9-1-4&#x7528;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x63A7;&#x5236;url"><i class="fa fa-link" aria-hidden="true"></i></a>9-1-4&gt;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x63A7;&#x5236;URL</h3>
<h4 id="9-1-4-1&#x4F20;&#x7EDF;&#x8DEF;&#x7531;&#x4E0B;&#x7684;url&#x751F;&#x6210;"><a name="9-1-4-1&#x4F20;&#x7EDF;&#x8DEF;&#x7531;&#x4E0B;&#x7684;url&#x751F;&#x6210;" class="anchor-navigation-ex-anchor" href="#9-1-4-1&#x4F20;&#x7EDF;&#x8DEF;&#x7531;&#x4E0B;&#x7684;url&#x751F;&#x6210;"><i class="fa fa-link" aria-hidden="true"></i></a>9-1-4-1&gt;&#x4F20;&#x7EDF;&#x8DEF;&#x7531;&#x4E0B;&#x7684;url&#x751F;&#x6210;</h4>
<p>Url.Action&#x914D;&#x5408;&#x5404;&#x79CD;&#x53C2;&#x6570;, &#x7528;&#x4E8E;&#x751F;&#x6210;url.</p>
<pre class="language-"><code class="lang-C#">[Route(&quot;/&quot;)]
[HttpGet(&quot;Blog/TestUrlFunc&quot;)]
public IActionResult TestUrlFunc() 
{
    //var url = Url.Action(&quot;TestOptions&quot;, &quot;Home&quot;);
    var url = Url.Action(&quot;GetArticle&quot;, new { id = 10 });
    return Json(new
    {
        Name = &quot;HttpGet TestUrlFunc&quot;,
        url
    });
}
</code></pre>
<p>*Redirect &#x548C; RedirectToAction &#x7528;&#x4E8E;&#x8DF3;&#x8F6C;&#x5230;&#x9875;&#x9762;.</p>
<pre class="language-"><code class="lang-C#">[HttpGet(&quot;Blog/Jump2Page&quot;)]
public IActionResult TestJump2OtherPage()
{
    //return Redirect(&quot;/Home/TestConfig&quot;);
    return RedirectToAction(&quot;TestConfig&quot;, &quot;Home&quot;);
}
</code></pre>
<h3 id="9-1-5area-&#x533A;&#x57DF;&#x8DEF;&#x7531;"><a name="9-1-5area-&#x533A;&#x57DF;&#x8DEF;&#x7531;" class="anchor-navigation-ex-anchor" href="#9-1-5area-&#x533A;&#x57DF;&#x8DEF;&#x7531;"><i class="fa fa-link" aria-hidden="true"></i></a>9-1-5&gt;area &#x533A;&#x57DF;&#x8DEF;&#x7531;</h3>
<pre class="language-"><code class="lang-C#">app.UseEndpoints(endpointRouteBuilder =&gt;
{
    //endpointRouteBuilder.MapControllerRoute
    //(
    //    name: &quot;blog&quot;,
    //    pattern: &quot;blog/{*article}&quot;,
    //    defaults:new
    //    {
    //        controller = &quot;Blog&quot;,
    //        action = &quot;Article&quot;
    //    }
    //);

    endpointRouteBuilder.MapAreaControllerRoute
    (
        name: &quot;github_blog&quot;,
        areaName: &quot;GithubBlog&quot;,
        pattern: &quot;github/{controller}/{action}/{id?}&quot;
    );

    endpointRouteBuilder.MapControllerRoute
    (
        name: &quot;default&quot;,
        pattern: &quot;{controller=Home}/{action=index}/{id?}&quot;
        //pattern: &quot;{controller}/{action}/{id?}&quot;
    );
});

[Area(&quot;GithubBlog&quot;)]
public class BlogController : BaseController
{

}
</code></pre>
<h3 id="9-1-6iactionconstraint-&#x8DEF;&#x7531;&#x7EA6;&#x675F;"><a name="9-1-6iactionconstraint-&#x8DEF;&#x7531;&#x7EA6;&#x675F;" class="anchor-navigation-ex-anchor" href="#9-1-6iactionconstraint-&#x8DEF;&#x7531;&#x7EA6;&#x675F;"><i class="fa fa-link" aria-hidden="true"></i></a>9-1-6&gt;IActionConstraint &#x8DEF;&#x7531;&#x7EA6;&#x675F;</h3>
<p>&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;, &#x7EA6;&#x675F;&#x57FA;&#x4E8E;&#x8DEF;&#x7531;&#x6570;&#x636E;&#x4E2D;&#x7684;&#x56FD;&#x5BB6;/&#x5730;&#x533A;&#x4EE3;&#x7801;&#x9009;&#x62E9;&#x64CD;&#x4F5C;, &#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x8D1F;&#x8D23;&#x5B9E;&#x73B0;Accept&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x8DEF;&#x7531;&#x4E2D;id&#x503C;&#x4E3A;en-US&#x65F6;Accept&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;true&#x4EE5;&#x8868;&#x793A;&#x8BE5;&#x64CD;&#x4F5C;&#x662F;&#x5339;&#x914D;&#x9879;, &#x4E00;&#x5207;&#x6309;&#x6B63;&#x5E38;&#x89E3;&#x6790;&#x8FD4;&#x56DE;&#x5BA2;&#x6237;&#x7AEF;. &#x5982;&#x679C;Accept&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;false&#x5C06;&#x4E0D;&#x6267;&#x884C;IActionConstraint&#x6807;&#x8BB0;&#x7684;action, &#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;404&#x9519;&#x8BEF;.</p>
<pre class="language-"><code class="lang-C#">//&#x5B9A;&#x4E49;ActionConstraint&#x5C5E;&#x6027;&#x7EA6;&#x675F;
public class CountrySpecificAttribute : Attribute, IActionConstraint
{
    private readonly string _countryCode;

    public CountrySpecificAttribute(string countryCode)
    {
        _countryCode = countryCode;
    }

    public int Order
    {
        get
        {
            return 0;
        }
    }

    public bool Accept(ActionConstraintContext context)
    {
        return string.Equals(
            context.RouteContext.RouteData.Values[&quot;id&quot;].ToString(),
            _countryCode,
            StringComparison.OrdinalIgnoreCase);
    }
}

//&#x5E94;&#x7528;&#x8DEF;&#x7531;&#x7684;action&#x7EA6;&#x675F;&#xFF0C;&#x5E76;&#x4E14;&#x8DEF;&#x7531;&#x4E2D;id&#x503C;&#x4E3A;en-US
[CountrySpecific(&quot;en-US&quot;)]
public IActionResult Privacy(string countryCode)
{
    return View();
}
</code></pre>
<h2 id="9-2razor&#x6846;&#x67B6;&#x8DEF;&#x7531;&#x57FA;&#x672C;&#x505A;&#x7684;&#x9879;&#x76EE;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;-&#x60F3;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10265458html"><a name="9-2razor&#x6846;&#x67B6;&#x8DEF;&#x7531;&#x57FA;&#x672C;&#x505A;&#x7684;&#x9879;&#x76EE;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;-&#x60F3;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10265458html" class="anchor-navigation-ex-anchor" href="#9-2razor&#x6846;&#x67B6;&#x8DEF;&#x7531;&#x57FA;&#x672C;&#x505A;&#x7684;&#x9879;&#x76EE;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;-&#x60F3;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003;-httpswwwcnblogscommrhsrp10265458html"><i class="fa fa-link" aria-hidden="true"></i></a>9-2&gt;Razor&#x6846;&#x67B6;&#x8DEF;&#x7531;(&#x57FA;&#x672C;&#x505A;&#x7684;&#x9879;&#x76EE;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;, &#x60F3;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x53C2;&#x8003; <a href="https://www.cnblogs.com/MrHSR/p/10265458.html" target="_blank">https://www.cnblogs.com/MrHSR/p/10265458.html</a>)</h2>
<h1 id="10&#x9519;&#x8BEF;&#x5904;&#x7406;"><a name="10&#x9519;&#x8BEF;&#x5904;&#x7406;" class="anchor-navigation-ex-anchor" href="#10&#x9519;&#x8BEF;&#x5904;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>10&gt;&#x9519;&#x8BEF;&#x5904;&#x7406;</h1>
<h2 id="10-1&#x914D;&#x7F6E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5F02;&#x5E38;&#x9875;"><a name="10-1&#x914D;&#x7F6E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5F02;&#x5E38;&#x9875;" class="anchor-navigation-ex-anchor" href="#10-1&#x914D;&#x7F6E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5F02;&#x5E38;&#x9875;"><i class="fa fa-link" aria-hidden="true"></i></a>10-1&gt;&#x914D;&#x7F6E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5F02;&#x5E38;&#x9875;</h2>
<pre class="language-"><code class="lang-C#">if (env.IsDevelopment())
{
    //&#x6CE8;&#x610F;: &#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x8981;&#x653E;&#x5728;&#x5BF9;&#x5176;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x7684;&#x4EFB;&#x4F55;&#x4E2D;&#x95F4;&#x4EF6;&#x524D;&#x9762;
    app.UseDeveloperExceptionPage();
}
</code></pre>
<h2 id="10-2&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;"><a name="10-2&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;" class="anchor-navigation-ex-anchor" href="#10-2&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;"><i class="fa fa-link" aria-hidden="true"></i></a>10-2&gt;&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;</h2>
<p>&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;,&#x7528;&#x4E8E;&#x975E; <code>Development</code> &#x73AF;&#x5883;&#x4E0B;, &#x4E0B;&#x9762;&#x662F;razor&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x9875;&#x4EE3;&#x7801;(Pages&#x4E0B;Error.cshtml&#x9875;&#x9762;).</p>
<pre class="language-"><code class="lang-C#">if (env.IsDevelopment())
{
    app.UseDeveloperExceptionPage();
}
else
{
    app.UseExceptionHandler(&quot;/error&quot;);
}
</code></pre>
<h2 id="10-3&#x914D;&#x7F6E;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x9875;"><a name="10-3&#x914D;&#x7F6E;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x9875;" class="anchor-navigation-ex-anchor" href="#10-3&#x914D;&#x7F6E;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x9875;"><i class="fa fa-link" aria-hidden="true"></i></a>10-3&gt;&#x914D;&#x7F6E;&#x72B6;&#x6001;&#x4EE3;&#x7801;&#x9875;</h2>
<pre class="language-"><code class="lang-C#">//&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x4E2D;&#x95F4;&#x4EF6;&#x4E4B;&#x524D;&#x8C03;&#x7528; 
app.UseStatusCodePages();
</code></pre>
<h2 id="10-4usestatuscodepageswithredirects&#x91CD;&#x5B9A;&#x5411;"><a name="10-4usestatuscodepageswithredirects&#x91CD;&#x5B9A;&#x5411;" class="anchor-navigation-ex-anchor" href="#10-4usestatuscodepageswithredirects&#x91CD;&#x5B9A;&#x5411;"><i class="fa fa-link" aria-hidden="true"></i></a>10-4&gt;UseStatusCodePagesWithRedirects&#x91CD;&#x5B9A;&#x5411;</h2>
<p>&#x8BE5;&#x4E2D;&#x95F4;&#x4EF6;&#x4F5C;&#x7528;&#x662F;: (1)&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;302&#x72B6;&#x6001;&#x7801;; (2)&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x91CD;&#x5B9A;&#x5411;&#x5230; URL &#x6A21;&#x677F;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;.</p>
<pre class="language-"><code class="lang-C#">/&#x5F53;&#x6CA1;&#x6709;&#x6B63;&#x6587;&#x7684;&#x54CD;&#x5E94;&#x65F6;, &#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6307;&#x5B9A;&#x9875;&#x9762;, {0}&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x51FA;&#x9519;&#x7684;http&#x7684;&#x72B6;&#x6001;&#x7801;
app.UseStatusCodePagesWithRedirects(&quot;/error/{0}&quot;);
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; Dylan all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">Latest revision time: 
2022-08-17 14:26:15
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Net_Core_API.html" class="navigation navigation-prev " aria-label="Previous page: Net_Core_API">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Net_Index.html" class="navigation navigation-next " aria-label="Next page: Net_Index">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Net_Core_MVC","level":"1.2.10","depth":2,"next":{"title":"Net_Index","level":"1.2.11","depth":2,"path":"NetCore/Net_Index.md","ref":"NetCore/Net_Index.md","articles":[]},"previous":{"title":"Net_Core_API","level":"1.2.9","depth":2,"path":"NetCore/Net_Core_API.md","ref":"NetCore/Net_Core_API.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","-fontsettings","search-pro","anchor-navigation-ex","back-to-top-button","expandable-chapters","code","github","tbfed-pagefooter","prism","-highlight","-sharing","sharing-plus","splitter","hide-element","page-toc-button","theme-comscore"],"ignores":["_book","node_modules"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy Dylan","modify_label":"Latest revision time: ","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"github":{"url":"https://www.baidu.com"},"splitter":{},"search-pro":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link",".page-footer .copyright"]},"anchor-navigation-ex":{"mode":"float","pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"showLevel":false,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right","showGoTop":false,"isShowTocTitleIcon":true,"printLog":false,"multipleH1":true,"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false}},"theme-comscore":{},"page-toc-button":{"maxTocDepth":2,"minTocSize":2},"back-to-top-button":{},"sharing":{"qq":true,"all":["facebook","google","twitter","weibo","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":false,"weibo":true,"instapaper":false,"whatsapp":true,"hatenaBookmark":false,"twitter":false,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":true,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"Dylan","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"sortedBy":"-","disableTitleFormatting":true,"variables":{},"title":"Study Note","catalog":"all","gitbook":"*","unchanged":[],"outputfile":"SUMMARY.md"},"file":{"path":"NetCore/Net_Core_MVC.md","mtime":"2022-08-17T06:26:15.361Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-06-27T11:37:34.893Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

